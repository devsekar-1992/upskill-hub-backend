{"text": "2025-03-21 09:51:31.382 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 200 | Time 0.15326476097106934\n", "record": {"elapsed": {"repr": "0:00:15.279061", "seconds": 15.279061}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 200 | Time 0.15326476097106934", "module": "main", "name": "app.main", "process": {"id": 4820, "name": "SpawnProcess-1"}, "thread": {"id": 8631060544, "name": "MainThread"}, "time": {"repr": "2025-03-21 09:51:31.382016+05:30", "timestamp": 1742530891.382016}}}
{"text": "2025-03-21 10:35:47.112 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011920928955078125\n", "record": {"elapsed": {"repr": "0:00:00.108575", "seconds": 0.108575}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011920928955078125", "module": "main", "name": "app.main", "process": {"id": 6086, "name": "MainProcess"}, "thread": {"id": 6143782912, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:35:47.112673+05:30", "timestamp": 1742533547.112673}}}
{"text": "2025-03-21 10:38:08.017 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.0002529621124267578\n", "record": {"elapsed": {"repr": "0:00:00.032218", "seconds": 0.032218}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.0002529621124267578", "module": "main", "name": "app.main", "process": {"id": 6147, "name": "MainProcess"}, "thread": {"id": 6143029248, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:38:08.017522+05:30", "timestamp": 1742533688.017522}}}
{"text": "2025-03-21 10:38:08.045 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00010895729064941406\n", "record": {"elapsed": {"repr": "0:00:00.059923", "seconds": 0.059923}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00010895729064941406", "module": "main", "name": "app.main", "process": {"id": 6147, "name": "MainProcess"}, "thread": {"id": 6143029248, "name": "Thread-2 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:38:08.045227+05:30", "timestamp": 1742533688.045227}}}
{"text": "2025-03-21 10:38:08.048 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.000102996826171875\n", "record": {"elapsed": {"repr": "0:00:00.062729", "seconds": 0.062729}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.000102996826171875", "module": "main", "name": "app.main", "process": {"id": 6147, "name": "MainProcess"}, "thread": {"id": 6143029248, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:38:08.048033+05:30", "timestamp": 1742533688.048033}}}
{"text": "2025-03-21 10:38:36.610 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 200 | Time 0.29389190673828125\n", "record": {"elapsed": {"repr": "0:00:00.322949", "seconds": 0.322949}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 200 | Time 0.29389190673828125", "module": "main", "name": "app.main", "process": {"id": 6166, "name": "MainProcess"}, "thread": {"id": 6182825984, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:38:36.610225+05:30", "timestamp": 1742533716.610225}}}
{"text": "2025-03-21 10:38:36.638 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011491775512695312\n", "record": {"elapsed": {"repr": "0:00:00.350727", "seconds": 0.350727}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011491775512695312", "module": "main", "name": "app.main", "process": {"id": 6166, "name": "MainProcess"}, "thread": {"id": 6182825984, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:38:36.638003+05:30", "timestamp": 1742533716.638003}}}
{"text": "2025-03-21 10:38:36.641 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.0001049041748046875\n", "record": {"elapsed": {"repr": "0:00:00.353897", "seconds": 0.353897}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.0001049041748046875", "module": "main", "name": "app.main", "process": {"id": 6166, "name": "MainProcess"}, "thread": {"id": 6182825984, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:38:36.641173+05:30", "timestamp": 1742533716.641173}}}
{"text": "2025-03-21 10:42:06.314 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03731417655944824\n", "record": {"elapsed": {"repr": "0:00:00.068605", "seconds": 0.068605}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03731417655944824", "module": "main", "name": "app.main", "process": {"id": 6208, "name": "MainProcess"}, "thread": {"id": 6175322112, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:42:06.314137+05:30", "timestamp": 1742533926.314137}}}
{"text": "2025-03-21 10:42:06.341 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011205673217773438\n", "record": {"elapsed": {"repr": "0:00:00.096333", "seconds": 0.096333}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011205673217773438", "module": "main", "name": "app.main", "process": {"id": 6208, "name": "MainProcess"}, "thread": {"id": 6175322112, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:42:06.341865+05:30", "timestamp": 1742533926.341865}}}
{"text": "2025-03-21 10:42:06.344 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 8.821487426757812e-05\n", "record": {"elapsed": {"repr": "0:00:00.099321", "seconds": 0.099321}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 8.821487426757812e-05", "module": "main", "name": "app.main", "process": {"id": 6208, "name": "MainProcess"}, "thread": {"id": 6175322112, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 10:42:06.344853+05:30", "timestamp": 1742533926.344853}}}
{"text": "2025-03-21 11:19:45.625 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03429698944091797\n", "record": {"elapsed": {"repr": "0:00:00.066016", "seconds": 0.066016}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03429698944091797", "module": "main", "name": "app.main", "process": {"id": 6500, "name": "MainProcess"}, "thread": {"id": 6116945920, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:19:45.625563+05:30", "timestamp": 1742536185.625563}}}
{"text": "2025-03-21 11:19:45.653 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011014938354492188\n", "record": {"elapsed": {"repr": "0:00:00.094005", "seconds": 0.094005}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011014938354492188", "module": "main", "name": "app.main", "process": {"id": 6500, "name": "MainProcess"}, "thread": {"id": 6116945920, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:19:45.653552+05:30", "timestamp": 1742536185.653552}}}
{"text": "2025-03-21 11:19:45.656 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 9.918212890625e-05\n", "record": {"elapsed": {"repr": "0:00:00.096833", "seconds": 0.096833}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 9.918212890625e-05", "module": "main", "name": "app.main", "process": {"id": 6500, "name": "MainProcess"}, "thread": {"id": 6116945920, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:19:45.656380+05:30", "timestamp": 1742536185.65638}}}
{"text": "2025-03-21 11:26:17.903 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.031813859939575195\n", "record": {"elapsed": {"repr": "0:00:00.059804", "seconds": 0.059804}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.031813859939575195", "module": "main", "name": "app.main", "process": {"id": 6569, "name": "MainProcess"}, "thread": {"id": 6188265472, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:26:17.903234+05:30", "timestamp": 1742536577.903234}}}
{"text": "2025-03-21 11:26:17.931 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011301040649414062\n", "record": {"elapsed": {"repr": "0:00:00.087667", "seconds": 0.087667}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011301040649414062", "module": "main", "name": "app.main", "process": {"id": 6569, "name": "MainProcess"}, "thread": {"id": 6188265472, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:26:17.931097+05:30", "timestamp": 1742536577.931097}}}
{"text": "2025-03-21 11:26:17.934 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011801719665527344\n", "record": {"elapsed": {"repr": "0:00:00.090773", "seconds": 0.090773}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011801719665527344", "module": "main", "name": "app.main", "process": {"id": 6569, "name": "MainProcess"}, "thread": {"id": 6188265472, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:26:17.934203+05:30", "timestamp": 1742536577.934203}}}
{"text": "2025-03-21 11:27:58.583 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.0324702262878418\n", "record": {"elapsed": {"repr": "0:00:00.059882", "seconds": 0.059882}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.0324702262878418", "module": "main", "name": "app.main", "process": {"id": 6610, "name": "MainProcess"}, "thread": {"id": 6113570816, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:27:58.583004+05:30", "timestamp": 1742536678.583004}}}
{"text": "2025-03-21 11:27:58.610 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011277198791503906\n", "record": {"elapsed": {"repr": "0:00:00.087549", "seconds": 0.087549}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011277198791503906", "module": "main", "name": "app.main", "process": {"id": 6610, "name": "MainProcess"}, "thread": {"id": 6113570816, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:27:58.610671+05:30", "timestamp": 1742536678.610671}}}
{"text": "2025-03-21 11:27:58.613 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011920928955078125\n", "record": {"elapsed": {"repr": "0:00:00.090760", "seconds": 0.09076}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011920928955078125", "module": "main", "name": "app.main", "process": {"id": 6610, "name": "MainProcess"}, "thread": {"id": 6113570816, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:27:58.613882+05:30", "timestamp": 1742536678.613882}}}
{"text": "2025-03-21 11:28:14.900 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.036218881607055664\n", "record": {"elapsed": {"repr": "0:00:00.066875", "seconds": 0.066875}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.036218881607055664", "module": "main", "name": "app.main", "process": {"id": 6631, "name": "MainProcess"}, "thread": {"id": 6178271232, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:28:14.900994+05:30", "timestamp": 1742536694.900994}}}
{"text": "2025-03-21 11:28:14.928 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.0001270771026611328\n", "record": {"elapsed": {"repr": "0:00:00.094597", "seconds": 0.094597}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.0001270771026611328", "module": "main", "name": "app.main", "process": {"id": 6631, "name": "MainProcess"}, "thread": {"id": 6178271232, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:28:14.928716+05:30", "timestamp": 1742536694.928716}}}
{"text": "2025-03-21 11:28:14.931 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011110305786132812\n", "record": {"elapsed": {"repr": "0:00:00.097844", "seconds": 0.097844}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011110305786132812", "module": "main", "name": "app.main", "process": {"id": 6631, "name": "MainProcess"}, "thread": {"id": 6178271232, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:28:14.931963+05:30", "timestamp": 1742536694.931963}}}
{"text": "2025-03-21 11:42:16.597 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.033965110778808594\n", "record": {"elapsed": {"repr": "0:00:00.064185", "seconds": 0.064185}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.033965110778808594", "module": "main", "name": "app.main", "process": {"id": 6784, "name": "MainProcess"}, "thread": {"id": 6118174720, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:42:16.597097+05:30", "timestamp": 1742537536.597097}}}
{"text": "2025-03-21 11:42:16.624 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011205673217773438\n", "record": {"elapsed": {"repr": "0:00:00.092001", "seconds": 0.092001}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011205673217773438", "module": "main", "name": "app.main", "process": {"id": 6784, "name": "MainProcess"}, "thread": {"id": 6118174720, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:42:16.624913+05:30", "timestamp": 1742537536.624913}}}
{"text": "2025-03-21 11:42:16.627 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 9.703636169433594e-05\n", "record": {"elapsed": {"repr": "0:00:00.094907", "seconds": 0.094907}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 9.703636169433594e-05", "module": "main", "name": "app.main", "process": {"id": 6784, "name": "MainProcess"}, "thread": {"id": 6118174720, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:42:16.627819+05:30", "timestamp": 1742537536.627819}}}
{"text": "2025-03-21 11:43:59.810 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.031594038009643555\n", "record": {"elapsed": {"repr": "0:00:00.059218", "seconds": 0.059218}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.031594038009643555", "module": "main", "name": "app.main", "process": {"id": 6823, "name": "MainProcess"}, "thread": {"id": 6144028672, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:43:59.810621+05:30", "timestamp": 1742537639.810621}}}
{"text": "2025-03-21 11:43:59.839 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00010776519775390625\n", "record": {"elapsed": {"repr": "0:00:00.087928", "seconds": 0.087928}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00010776519775390625", "module": "main", "name": "app.main", "process": {"id": 6823, "name": "MainProcess"}, "thread": {"id": 6144028672, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:43:59.839331+05:30", "timestamp": 1742537639.839331}}}
{"text": "2025-03-21 11:43:59.842 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011372566223144531\n", "record": {"elapsed": {"repr": "0:00:00.091482", "seconds": 0.091482}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011372566223144531", "module": "main", "name": "app.main", "process": {"id": 6823, "name": "MainProcess"}, "thread": {"id": 6144028672, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:43:59.842885+05:30", "timestamp": 1742537639.842885}}}
{"text": "2025-03-21 11:44:31.228 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.033589839935302734\n", "record": {"elapsed": {"repr": "0:00:00.060185", "seconds": 0.060185}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.033589839935302734", "module": "main", "name": "app.main", "process": {"id": 6848, "name": "MainProcess"}, "thread": {"id": 6176075776, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:44:31.228177+05:30", "timestamp": 1742537671.228177}}}
{"text": "2025-03-21 11:44:31.255 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1//users/register |Response: 404 | Time 0.0001239776611328125\n", "record": {"elapsed": {"repr": "0:00:00.087699", "seconds": 0.087699}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1//users/register |Response: 404 | Time 0.0001239776611328125", "module": "main", "name": "app.main", "process": {"id": 6848, "name": "MainProcess"}, "thread": {"id": 6176075776, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:44:31.255691+05:30", "timestamp": 1742537671.255691}}}
{"text": "2025-03-21 11:44:31.258 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 9.894371032714844e-05\n", "record": {"elapsed": {"repr": "0:00:00.090901", "seconds": 0.090901}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 9.894371032714844e-05", "module": "main", "name": "app.main", "process": {"id": 6848, "name": "MainProcess"}, "thread": {"id": 6176075776, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:44:31.258893+05:30", "timestamp": 1742537671.258893}}}
{"text": "2025-03-21 11:44:41.777 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03622078895568848\n", "record": {"elapsed": {"repr": "0:00:00.066863", "seconds": 0.066863}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03622078895568848", "module": "main", "name": "app.main", "process": {"id": 6868, "name": "MainProcess"}, "thread": {"id": 6151811072, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:44:41.777414+05:30", "timestamp": 1742537681.777414}}}
{"text": "2025-03-21 11:44:41.807 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x1028bdbc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1028bd8a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x1079442c0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x1039b45e0>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x107983e20>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x107a04860>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x107a06d40>\n           │      └ <function Runner.run at 0x103de40e0>\n           └ <asyncio.runners.Runner object at 0x10797a690>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x103de1d00>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10797a690>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x103de1c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x103de3a60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x103d7c860>\n    └ <Handle <TaskStepMethWrapper object at 0x10794b220>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x10794b220>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x10794b220>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x10794b220>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x107e54c20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1079d3990>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1079d3a10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x107e54c20>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x107a0d3d0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10789a450>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1079d3990>\n          └ <function wrap_app_handling_exceptions at 0x105c0a840>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10789a450>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10789a450>>\n          └ <fastapi.routing.APIRouter object at 0x10789a450>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x105c0bd80>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x107944680>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x107a0f3d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x107e54ea0>\n          └ <function wrap_app_handling_exceptions at 0x105c0a840>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54fe0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x107e54ea0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x107a0f3d0>\n                     └ <function get_request_handler.<locals>.app at 0x1079445e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x102670040>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x107e31510>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x1064879c0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'alice@example.com'\n             │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n             │       └ <function UserService.is_email_taken at 0x1074d36a0>\n             └ <app.services.user_service.UserService object at 0x107e31510>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x10790f9c0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x107e338d0>\n                          └ <app.services.user_service.UserService object at 0x107e31510>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x107e32c10>\n               │    │          └ <function AsyncSession.exec at 0x10726b100>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x107e32a50>\n               └ <app.repository.user_repository.UserRespository object at 0x107e338d0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x106641d00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x107e32b40 (otid=0x1079c97a0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x1070fc0e0>\n           └ <sqlmodel.orm.session.Session object at 0x107e33890>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x106e45760>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x106c48040>\n             └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x107e32c...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x106c48360>\n           └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x106c48540>\n          └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x106c485e0>\n           └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x106c48860>\n    └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x106ceb7e0>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x10727d310>\n    └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x107391b20>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1079ea740>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1079ea740>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10796a0e0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x107e32b40 (otid=0x1079c97a0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10796a0e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x107392c00>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1079f3b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x107392840>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1079f3b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1079f3b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1079f47b0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1079f3b50>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.097261", "seconds": 0.097261}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 6868, "name": "MainProcess"}, "thread": {"id": 6151811072, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:44:41.807812+05:30", "timestamp": 1742537681.807812}}}
{"text": "2025-03-21 11:44:42.071 | ERROR    | app.repository.user_repository:create:37 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$QL2IKrv6uMrsZnsuYGhvF.ySprQj78xIKpyfH4F8OxJB.aRA0pWa6', datetime.datetime(2025, 3, 21, 6, 14, 42, 71005), datetime.datetime(2025, 3, 21, 6, 14, 42, 71007))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1079f3b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_8__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1101b5af0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_8__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1079f3b50>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x106ceb7e0>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x10727d310>\n    └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$QL2IKrv6uMrsZnsuYGhvF.ySprQj78xIKpyfH4F8OxJB.aRA0pWa6', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x107391b20>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1079ea7a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1079ea7a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10796b9a0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10745c300 (otid=0x1079c97a0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10796b9a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x107392c00>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1079f3b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x107392840>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1079f3b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x1028bdbc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1028bd8a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x1079442c0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6151811072)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x1039b45e0>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x107983e20>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x107a04860>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x107a06d40>\n           │      └ <function Runner.run at 0x103de40e0>\n           └ <asyncio.runners.Runner object at 0x10797a690>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x103de1d00>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10797a690>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x103de1c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x103de3a60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x103d7c860>\n    └ <Handle <TaskStepMethWrapper object at 0x10794b220>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x10794b220>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x10794b220>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x10794b220>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x107e54c20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1079d3990>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1079d3a10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x107e54c20>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x107a0d3d0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10789a450>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1079d3990>\n          └ <function wrap_app_handling_exceptions at 0x105c0a840>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10789a450>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10789a450>>\n          └ <fastapi.routing.APIRouter object at 0x10789a450>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x105c0bd80>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x107944680>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54e00>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x107a0f3d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x107e54ea0>\n          └ <function wrap_app_handling_exceptions at 0x105c0a840>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x107e54fe0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x107e54b80>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x107e54ea0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x107a0f3d0>\n                     └ <function get_request_handler.<locals>.app at 0x1079445e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x102670040>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x107e31510>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x1064879c0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 17, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │       └ <function UserService.register_user at 0x10790fb00>\n                 └ <app.services.user_service.UserService object at 0x107e31510>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │    │         └ <function UserRespository.create at 0x10790fa60>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x107e338d0>\n                 └ <app.services.user_service.UserService object at 0x107e31510>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x10723a5c0>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x107e32a50>\n          └ <app.repository.user_repository.UserRespository object at 0x107e338d0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x1070efc40>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x107e33890>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x107e32a50>\n          └ <function greenlet_spawn at 0x106641d00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x10745c300 (otid=0x1079c97a0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x1070eed40>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x107e26d00>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x107e26d00>\n                └ <function SessionTransaction.commit at 0x1070eeb60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x1070eea20>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x107e26d00>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x107e26d00>\n                └ <function SessionTransaction._prepare_impl at 0x1070ee980>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x1070feb60>\n    │    └ <sqlmodel.orm.session.Session object at 0x107e33890>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x107e26d00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x1070fed40>\n    └ <sqlmodel.orm.session.Session object at 0x107e33890>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x110197380>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x1070c3600>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x107e58c90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x107e58c90>\n    │   └ <function SaveUpdateAll.execute at 0x1070ec180>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x107017100>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x1070ae5c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x106c48040>\n             └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x11018df10>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x106c48360>\n           └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x106c48540>\n          └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x106c485e0>\n           └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x106c48860>\n    └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x106ceb7e0>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x10727d310>\n    └ <sqlalchemy.engine.base.Connection object at 0x107e33490>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$QL2IKrv6uMrsZnsuYGhvF.ySprQj78xIKpyfH4F8OxJB.aRA0pWa6', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x107391b20>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1079ea7a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1079ea7a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10796b9a0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10745c300 (otid=0x1079c97a0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10796b9a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x107392c00>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1079f3b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x107392840>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1079f3b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$QL2IKrv6uMrsZnsuYGhvF.ySprQj78xIKpyfH4F8OxJB.aRA0pWa6', datetime.datetime(2025, 3, 21, 6, 14, 42, 71005), datetime.datetime(2025, 3, 21, 6, 14, 42, 71007))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.360776", "seconds": 0.360776}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$QL2IKrv6uMrsZnsuYGhvF.ySprQj78xIKpyfH4F8OxJB.aRA0pWa6', datetime.datetime(2025, 3, 21, 6, 14, 42, 71005), datetime.datetime(2025, 3, 21, 6, 14, 42, 71007))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 37, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$QL2IKrv6uMrsZnsuYGhvF.ySprQj78xIKpyfH4F8OxJB.aRA0pWa6', datetime.datetime(2025, 3, 21, 6, 14, 42, 71005), datetime.datetime(2025, 3, 21, 6, 14, 42, 71007))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 6868, "name": "MainProcess"}, "thread": {"id": 6151811072, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:44:42.071327+05:30", "timestamp": 1742537682.071327}}}
{"text": "2025-03-21 11:44:42.080 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.27396702766418457\n", "record": {"elapsed": {"repr": "0:00:00.370004", "seconds": 0.370004}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.27396702766418457", "module": "main", "name": "app.main", "process": {"id": 6868, "name": "MainProcess"}, "thread": {"id": 6151811072, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:44:42.080555+05:30", "timestamp": 1742537682.080555}}}
{"text": "2025-03-21 11:44:42.083 | INFO     | app.main:log_requests:18 - Method: POST| Path: /users/register |Response: 404 | Time 0.00011396408081054688\n", "record": {"elapsed": {"repr": "0:00:00.373197", "seconds": 0.373197}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /users/register |Response: 404 | Time 0.00011396408081054688", "module": "main", "name": "app.main", "process": {"id": 6868, "name": "MainProcess"}, "thread": {"id": 6151811072, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:44:42.083748+05:30", "timestamp": 1742537682.083748}}}
{"text": "2025-03-21 11:55:35.833 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.04000687599182129\n", "record": {"elapsed": {"repr": "0:00:00.074353", "seconds": 0.074353}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.04000687599182129", "module": "main", "name": "app.main", "process": {"id": 7252, "name": "MainProcess"}, "thread": {"id": 6174666752, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:55:35.833993+05:30", "timestamp": 1742538335.833993}}}
{"text": "2025-03-21 11:55:35.863 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101375bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1013758a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x104ffeac0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102112480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x104ffc5e0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x104fee7a0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x104ffc040>\n           │      └ <function Runner.run at 0x10252e480>\n           └ <asyncio.runners.Runner object at 0x104fa0410>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10252c0e0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x104fa0410>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10252c040>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x10252de40>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x102516b60>\n    └ <Handle <TaskStepMethWrapper object at 0x104f8ba90>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104f8ba90>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x104f8ba90>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x104f8ba90>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10503f4c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fb56d0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104f5e910>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10503f4c0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x104fbd6d0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x104f09310>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fb56d0>\n          └ <function wrap_app_handling_exceptions at 0x103690720>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x104f09310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x104f09310>>\n          └ <fastapi.routing.APIRouter object at 0x104f09310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103691c60>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x104efe660>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x104fbd690>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10503f740>\n          └ <function wrap_app_handling_exceptions at 0x103690720>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f880>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10503f740>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x104fbd690>\n                     └ <function get_request_handler.<locals>.app at 0x104efe5c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103691760>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x102133610>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x103ce16c0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'alice@example.com'\n             │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n             │       └ <function UserService.is_email_taken at 0x104b98e00>\n             └ <app.services.user_service.UserService object at 0x102133610>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x104efd120>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x104f73290>\n                          └ <app.services.user_service.UserService object at 0x102133610>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x10500cdd0>\n               │    │          └ <function AsyncSession.exec at 0x104944860>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x104f9aa90>\n               └ <app.repository.user_repository.UserRespository object at 0x104f73290>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x103f5b920>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x104f716c0 (otid=0x104f03de0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x1047e9d00>\n           └ <sqlmodel.orm.session.Session object at 0x104f98510>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x104647380>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x104449c60>\n             └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x10500cd...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x104449f80>\n           └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x10444a160>\n          └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x10444a200>\n           └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x10444a480>\n    └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104511440>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104953990>\n    └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104a6b240>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104f6f580>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104f6f580>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x104eea320>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x104f716c0 (otid=0x104f03de0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x104eea320>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104a6c360>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104a6bf60>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x104f765e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1050144f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.104054", "seconds": 0.104054}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7252, "name": "MainProcess"}, "thread": {"id": 6174666752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:55:35.863694+05:30", "timestamp": 1742538335.863694}}}
{"text": "2025-03-21 11:55:36.118 | ERROR    | app.repository.user_repository:create:37 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$rg175YSofZJ5d4Y4vz63PuApZdexulah.QAnpRH6vQ834ukkYqkbW', datetime.datetime(2025, 3, 21, 6, 25, 36, 118219), datetime.datetime(2025, 3, 21, 6, 25, 36, 118225))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_8__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x10539f300>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_8__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1050144f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104511440>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104953990>\n    └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$rg175YSofZJ5d4Y4vz63PuApZdexulah.QAnpRH6vQ834ukkYqkbW', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104a6b240>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104e36260>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104e36260>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1050e43a0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x104fbcfc0 (otid=0x104f03de0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1050e43a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104a6c360>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104a6bf60>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101375bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1013758a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x104ffeac0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102112480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x104ffc5e0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x104fee7a0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x104ffc040>\n           │      └ <function Runner.run at 0x10252e480>\n           └ <asyncio.runners.Runner object at 0x104fa0410>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10252c0e0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x104fa0410>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10252c040>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x10252de40>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x102516b60>\n    └ <Handle <TaskStepMethWrapper object at 0x104f8ba90>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104f8ba90>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x104f8ba90>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x104f8ba90>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10503f4c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fb56d0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104f5e910>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10503f4c0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x104fbd6d0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x104f09310>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fb56d0>\n          └ <function wrap_app_handling_exceptions at 0x103690720>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x104f09310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x104f09310>>\n          └ <fastapi.routing.APIRouter object at 0x104f09310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103691c60>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x104efe660>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f6a0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x104fbd690>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10503f740>\n          └ <function wrap_app_handling_exceptions at 0x103690720>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10503f880>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10503f420>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10503f740>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x104fbd690>\n                     └ <function get_request_handler.<locals>.app at 0x104efe5c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103691760>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x102133610>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x103ce16c0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 17, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │       └ <function UserService.register_user at 0x104efd260>\n                 └ <app.services.user_service.UserService object at 0x102133610>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │    │         └ <function UserRespository.create at 0x104efd1c0>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x104f73290>\n                 └ <app.services.user_service.UserService object at 0x102133610>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x104913ce0>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x104f9aa90>\n          └ <app.repository.user_repository.UserRespository object at 0x104f73290>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x1047e98a0>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x104f98510>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x104f9aa90>\n          └ <function greenlet_spawn at 0x103f5b920>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x104fbcfc0 (otid=0x104f03de0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x1047e89a0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x104ff42d0>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x104ff42d0>\n                └ <function SessionTransaction.commit at 0x1047e87c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x1047e8680>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x104ff42d0>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x104ff42d0>\n                └ <function SessionTransaction._prepare_impl at 0x1047e85e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x1047f07c0>\n    │    └ <sqlmodel.orm.session.Session object at 0x104f98510>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x104ff42d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x1047f09a0>\n    └ <sqlmodel.orm.session.Session object at 0x104f98510>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x1053a3300>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x1047dd260>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x104fa32d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x104fa32d0>\n    │   └ <function SaveUpdateAll.execute at 0x1047ddda0>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x10471cd60>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x1047cc220>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x104449c60>\n             └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x1053a14d0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x104449f80>\n           └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x10444a160>\n          └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x10444a200>\n           └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x10444a480>\n    └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104511440>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104953990>\n    └ <sqlalchemy.engine.base.Connection object at 0x104f5e9d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$rg175YSofZJ5d4Y4vz63PuApZdexulah.QAnpRH6vQ834ukkYqkbW', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104a6b240>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104e36260>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104e36260>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1050e43a0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x104fbcfc0 (otid=0x104f03de0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1050e43a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104a6c360>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104a6bf60>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$rg175YSofZJ5d4Y4vz63PuApZdexulah.QAnpRH6vQ834ukkYqkbW', datetime.datetime(2025, 3, 21, 6, 25, 36, 118219), datetime.datetime(2025, 3, 21, 6, 25, 36, 118225))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.359294", "seconds": 0.359294}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$rg175YSofZJ5d4Y4vz63PuApZdexulah.QAnpRH6vQ834ukkYqkbW', datetime.datetime(2025, 3, 21, 6, 25, 36, 118219), datetime.datetime(2025, 3, 21, 6, 25, 36, 118225))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 37, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$rg175YSofZJ5d4Y4vz63PuApZdexulah.QAnpRH6vQ834ukkYqkbW', datetime.datetime(2025, 3, 21, 6, 25, 36, 118219), datetime.datetime(2025, 3, 21, 6, 25, 36, 118225))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7252, "name": "MainProcess"}, "thread": {"id": 6174666752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:55:36.118934+05:30", "timestamp": 1742538336.118934}}}
{"text": "2025-03-21 11:55:36.127 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2660789489746094\n", "record": {"elapsed": {"repr": "0:00:00.368322", "seconds": 0.368322}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2660789489746094", "module": "main", "name": "app.main", "process": {"id": 7252, "name": "MainProcess"}, "thread": {"id": 6174666752, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:55:36.127962+05:30", "timestamp": 1742538336.127962}}}
{"text": "2025-03-21 11:55:36.132 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_9__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x104fc61f0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_9__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1050144f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104511440>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104953990>\n    └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104a6b240>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104fb8280>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104fb8280>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x104eea9e0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1054414c0 (otid=0x10502e640) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x104eea9e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104a6c360>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104a6bf60>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101375bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1013758a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x104ffd120>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102112480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x104ffd6c0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x104fee7a0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x101377060>\n           │      └ <function Runner.run at 0x10252e480>\n           └ <asyncio.runners.Runner object at 0x104f0b810>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10252c0e0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x104f0b810>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10252c040>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x10252de40>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x102516b60>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1053bc4a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fb56d0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104f5e910>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1053bc4a0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x105036e10>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x104f09310>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fb56d0>\n          └ <function wrap_app_handling_exceptions at 0x103690720>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x104f09310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x104f09310>>\n          └ <fastapi.routing.APIRouter object at 0x104f09310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103691c60>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x104efe660>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x105036a90>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1053bc680>\n          └ <function wrap_app_handling_exceptions at 0x103690720>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc7c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1053bc680>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x105036a90>\n                     └ <function get_request_handler.<locals>.app at 0x104efe5c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103691760>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x10541ec50>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x103ce16c0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'invalid-email'\n             │       │              └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n             │       └ <function UserService.is_email_taken at 0x104b98e00>\n             └ <app.services.user_service.UserService object at 0x10541ec50>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'invalid-email'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x104efd120>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x104fbe250>\n                          └ <app.services.user_service.UserService object at 0x10541ec50>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x104fbcf90>\n               │    │          └ <function AsyncSession.exec at 0x104944860>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x104fbda50>\n               └ <app.repository.user_repository.UserRespository object at 0x104fbe250>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x103f5b920>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x1054414c0 (otid=0x10502e640) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x1047e9d00>\n           └ <sqlmodel.orm.session.Session object at 0x104fbd7d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x104647380>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x104449c60>\n             └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x104fbcf...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x104449f80>\n           └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x10444a160>\n          └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x10444a200>\n           └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x10444a480>\n    └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104511440>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104953990>\n    └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104a6b240>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104fb8280>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104fb8280>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x104eea9e0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1054414c0 (otid=0x10502e640) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x104eea9e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104a6c360>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104a6bf60>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.373344", "seconds": 0.373344}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7252, "name": "MainProcess"}, "thread": {"id": 6174666752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:55:36.132984+05:30", "timestamp": 1742538336.132984}}}
{"text": "2025-03-21 11:55:36.353 | ERROR    | app.repository.user_repository:create:37 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$CWtzt3NNKTCaUor7u4nlouofgn5AkTvr7MbNLfZFwQCpZK8F50fAK', datetime.datetime(2025, 3, 21, 6, 25, 36, 352683), datetime.datetime(2025, 3, 21, 6, 25, 36, 352684))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x10539f4c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1050144f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104511440>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104953990>\n    └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('', 'Smith', 'invalid-email', '$2b$12$CWtzt3NNKTCaUor7u4nlouofgn5AkTvr7MbNLfZFwQCpZK8F50fAK', datetime.datetime(2025, 3, 21,...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104a6b240>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1053acd00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1053acd00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1050e4a60>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x104fbe400 (otid=0x10502e640) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1050e4a60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104a6c360>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104a6bf60>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101375bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1013758a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x104ffd120>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6174666752)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102112480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x104ffd6c0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x104fee7a0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x101377060>\n           │      └ <function Runner.run at 0x10252e480>\n           └ <asyncio.runners.Runner object at 0x104f0b810>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10252c0e0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x104f0b810>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10252c040>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x10252de40>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x102516b60>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1053bc4a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fb56d0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104f5e910>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1053bc4a0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x105036e10>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x104f09310>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104fb56d0>\n          └ <function wrap_app_handling_exceptions at 0x103690720>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x104f09310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x104f09310>>\n          └ <fastapi.routing.APIRouter object at 0x104f09310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103691c60>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x104efe660>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc5e0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x105036a90>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1053bc680>\n          └ <function wrap_app_handling_exceptions at 0x103690720>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1053bc7c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1053bc220>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1053bc680>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x105036a90>\n                     └ <function get_request_handler.<locals>.app at 0x104efe5c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103691760>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x10541ec50>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x103ce16c0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 17, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                 │       └ <function UserService.register_user at 0x104efd260>\n                 └ <app.services.user_service.UserService object at 0x10541ec50>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                 │    │         └ <function UserRespository.create at 0x104efd1c0>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x104fbe250>\n                 └ <app.services.user_service.UserService object at 0x10541ec50>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x104913ce0>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x104fbda50>\n          └ <app.repository.user_repository.UserRespository object at 0x104fbe250>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x1047e98a0>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x104fbd7d0>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x104fbda50>\n          └ <function greenlet_spawn at 0x103f5b920>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x104fbe400 (otid=0x10502e640) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x1047e89a0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10543e530>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10543e530>\n                └ <function SessionTransaction.commit at 0x1047e87c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x1047e8680>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10543e530>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10543e530>\n                └ <function SessionTransaction._prepare_impl at 0x1047e85e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x1047f07c0>\n    │    └ <sqlmodel.orm.session.Session object at 0x104fbd7d0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10543e530>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x1047f09a0>\n    └ <sqlmodel.orm.session.Session object at 0x104fbd7d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x105448240>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x1047dd260>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x105442890>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x105442890>\n    │   └ <function SaveUpdateAll.execute at 0x1047ddda0>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x10471cd60>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x1047cc220>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x104449c60>\n             └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x1053a14d0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x104449f80>\n           └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x10444a160>\n          └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x10444a200>\n           └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x10444a480>\n    └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104511440>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104953990>\n    └ <sqlalchemy.engine.base.Connection object at 0x105441710>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('', 'Smith', 'invalid-email', '$2b$12$CWtzt3NNKTCaUor7u4nlouofgn5AkTvr7MbNLfZFwQCpZK8F50fAK', datetime.datetime(2025, 3, 21,...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104a6b240>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1053acd00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1053acd00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1050e4a60>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x104fbe400 (otid=0x10502e640) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1050e4a60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104a6c360>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104a6bf60>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1050144f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$CWtzt3NNKTCaUor7u4nlouofgn5AkTvr7MbNLfZFwQCpZK8F50fAK', datetime.datetime(2025, 3, 21, 6, 25, 36, 352683), datetime.datetime(2025, 3, 21, 6, 25, 36, 352684))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.593392", "seconds": 0.593392}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$CWtzt3NNKTCaUor7u4nlouofgn5AkTvr7MbNLfZFwQCpZK8F50fAK', datetime.datetime(2025, 3, 21, 6, 25, 36, 352683), datetime.datetime(2025, 3, 21, 6, 25, 36, 352684))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 37, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$CWtzt3NNKTCaUor7u4nlouofgn5AkTvr7MbNLfZFwQCpZK8F50fAK', datetime.datetime(2025, 3, 21, 6, 25, 36, 352683), datetime.datetime(2025, 3, 21, 6, 25, 36, 352684))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7252, "name": "MainProcess"}, "thread": {"id": 6174666752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:55:36.353032+05:30", "timestamp": 1742538336.353032}}}
{"text": "2025-03-21 11:55:36.358 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22649812698364258\n", "record": {"elapsed": {"repr": "0:00:00.598763", "seconds": 0.598763}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22649812698364258", "module": "main", "name": "app.main", "process": {"id": 7252, "name": "MainProcess"}, "thread": {"id": 6174666752, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 11:55:36.358403+05:30", "timestamp": 1742538336.358403}}}
{"text": "2025-03-21 12:04:39.942 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - 'ScalarResult' object has no attribute 'scalar_one_or_none'\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x105925bc0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1059258a0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6107590656)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6107590656)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x1124b1f80>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x106116480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x1124b1ee0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x11253a660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x1124b2160>\n           │      └ <function Runner.run at 0x1065b62a0>\n           └ <asyncio.runners.Runner object at 0x1124f1350>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1065abec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1124f1350>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1065abe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1065b5c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1064fe980>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 1', True)>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 1', True)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 1', True)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 1', True)>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x112541120>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x112541080>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1124de290>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1124de210>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x112541120>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x112541080>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x112505f50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x111f86390>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1124de290>\n          └ <function wrap_app_handling_exceptions at 0x107e17d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x112540860>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x112541080>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x111f86390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x112540860>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x112541080>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x111f86390>>\n          └ <fastapi.routing.APIRouter object at 0x111f86390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x112540860>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x112541080>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x107e49300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x112540860>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x112541080>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x112445b20>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x112540860>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x112541080>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x112505b50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x112541300>\n          └ <function wrap_app_handling_exceptions at 0x107e17d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x112541440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x112541080>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x112541300>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x112505b50>\n                     └ <function get_request_handler.<locals>.app at 0x112445a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x107e48e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x112506d90>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x110dc4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'alice@example.com'\n             │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n             │       └ <function UserService.is_email_taken at 0x111fe4b80>\n             └ <app.services.user_service.UserService object at 0x112506d90>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x112444ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x1125074d0>\n                          └ <app.services.user_service.UserService object at 0x112506d90>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 23, in is_email_already_exists\n    return user.scalar_one_or_none()\n           └ <sqlalchemy.engine.result.ScalarResult object at 0x112579cc0>\n\nAttributeError: 'ScalarResult' object has no attribute 'scalar_one_or_none'\n", "record": {"elapsed": {"repr": "0:00:00.069027", "seconds": 0.069027}, "exception": {"type": "AttributeError", "value": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7333, "name": "MainProcess"}, "thread": {"id": 6107590656, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:04:39.942850+05:30", "timestamp": 1742538879.94285}}}
{"text": "2025-03-21 12:04:40.189 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2832069396972656\n", "record": {"elapsed": {"repr": "0:00:00.315736", "seconds": 0.315736}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2832069396972656", "module": "main", "name": "app.main", "process": {"id": 7333, "name": "MainProcess"}, "thread": {"id": 6107590656, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:04:40.189559+05:30", "timestamp": 1742538880.189559}}}
{"text": "2025-03-21 12:04:40.218 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x105925bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1059258a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6107590656)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6107590656)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x112540ea0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x106116480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x112543600>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x11253a660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x112540180>\n           │      └ <function Runner.run at 0x1065b62a0>\n           └ <asyncio.runners.Runner object at 0x1124f8610>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1065abec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1124f8610>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1065abe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1065b5c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1064fe980>\n    └ <Handle <TaskStepMethWrapper object at 0x1124d9b40>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1124d9b40>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x1124d9b40>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x1124d9b40>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1126de2a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126de200>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1124de290>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1124de210>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1126de2a0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126de200>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1124df310>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x111f86390>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1124de290>\n          └ <function wrap_app_handling_exceptions at 0x107e17d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126de480>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126de200>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x111f86390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126de480>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126de200>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x111f86390>>\n          └ <fastapi.routing.APIRouter object at 0x111f86390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126de480>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126de200>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x107e49300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126de480>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126de200>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x112445b20>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126de480>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126de200>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1124de450>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1126de520>\n          └ <function wrap_app_handling_exceptions at 0x107e17d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126de660>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126de200>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1126de520>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1124de450>\n                     └ <function get_request_handler.<locals>.app at 0x112445a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x107e48e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x112504210>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x110dc4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'alice@example.com'\n             │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n             │       └ <function UserService.is_email_taken at 0x111fe4b80>\n             └ <app.services.user_service.UserService object at 0x112504210>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x112444ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x112507ed0>\n                          └ <app.services.user_service.UserService object at 0x112504210>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1126872d0>\n               │    │          └ <function AsyncSession.exec at 0x111d78680>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1126876d0>\n               └ <app.repository.user_repository.UserRespository object at 0x112507ed0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x11102f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x112505bc0 (otid=0x112576280) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x111c01620>\n           └ <sqlmodel.orm.session.Session object at 0x112506050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x11194aca0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x111759580>\n             └ <sqlalchemy.engine.base.Connection object at 0x112506750>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1126872...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1117598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x112506750>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x111759a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x112506750>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x111759b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x112506750>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x111759da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x112506750>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x111824d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x111f66c10>\n    └ <sqlalchemy.engine.base.Connection object at 0x112506750>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x111eab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1124ec0a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1124ec0a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x112432560>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x112505bc0 (otid=0x112576280) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x112432560>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x111eb0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1125604f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x111eabd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1125604f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1125604f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1126cd310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1125604f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.345012", "seconds": 0.345012}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7333, "name": "MainProcess"}, "thread": {"id": 6107590656, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:04:40.218835+05:30", "timestamp": 1742538880.218835}}}
{"text": "2025-03-21 12:04:40.445 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2274918556213379\n", "record": {"elapsed": {"repr": "0:00:00.571279", "seconds": 0.571279}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2274918556213379", "module": "main", "name": "app.main", "process": {"id": 7333, "name": "MainProcess"}, "thread": {"id": 6107590656, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:04:40.445102+05:30", "timestamp": 1742538880.445102}}}
{"text": "2025-03-21 12:04:40.451 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1125604f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_8__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1124c6b90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_8__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1125604f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x111824d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x111f66c10>\n    └ <sqlalchemy.engine.base.Connection object at 0x1128fdd50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x111eab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1126cb1c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1126cb1c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1058e2f80>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1128fdac0 (otid=0x112574c60) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1058e2f80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x111eb0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1125604f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x111eabd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1125604f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x105925bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1059258a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6107590656)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6107590656)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x1125418a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6107590656)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x106116480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x1125409a0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x11253a660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x105927060>\n           │      └ <function Runner.run at 0x1065b62a0>\n           └ <asyncio.runners.Runner object at 0x112459f50>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1065abec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x112459f50>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1065abe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1065b5c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1064fe980>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1126deb60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126dec00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1124de290>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1124de210>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1126deb60>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126dec00>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1128c6bd0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x111f86390>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1124de290>\n          └ <function wrap_app_handling_exceptions at 0x107e17d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126df560>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126dec00>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x111f86390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126df560>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126dec00>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x111f86390>>\n          └ <fastapi.routing.APIRouter object at 0x111f86390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126df560>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126dec00>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x107e49300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126df560>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126dec00>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x112445b20>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126df560>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126dec00>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1128c67d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1126df420>\n          └ <function wrap_app_handling_exceptions at 0x107e17d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1126df6a0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1126dec00>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1126df420>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1128c67d0>\n                     └ <function get_request_handler.<locals>.app at 0x112445a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x107e48e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x112505450>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x110dc4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'invalid-email'\n             │       │              └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n             │       └ <function UserService.is_email_taken at 0x111fe4b80>\n             └ <app.services.user_service.UserService object at 0x112505450>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'invalid-email'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x112444ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x112506890>\n                          └ <app.services.user_service.UserService object at 0x112505450>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x112505e10>\n               │    │          └ <function AsyncSession.exec at 0x111d78680>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1128fc0d0>\n               └ <app.repository.user_repository.UserRespository object at 0x112506890>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x11102f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x1128fdac0 (otid=0x112574c60) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x111c01620>\n           └ <sqlmodel.orm.session.Session object at 0x1128fc090>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x11194aca0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x111759580>\n             └ <sqlalchemy.engine.base.Connection object at 0x1128fdd50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x112505e...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1117598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1128fdd50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x111759a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x1128fdd50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x111759b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x1128fdd50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x111759da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x1128fdd50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x111824d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x111f66c10>\n    └ <sqlalchemy.engine.base.Connection object at 0x1128fdd50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x111eab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1126cb1c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1126cb1c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1058e2f80>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1128fdac0 (otid=0x112574c60) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1058e2f80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x111eb0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1125604f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x111eabd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1125604f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.577570", "seconds": 0.57757}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7333, "name": "MainProcess"}, "thread": {"id": 6107590656, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:04:40.451393+05:30", "timestamp": 1742538880.451393}}}
{"text": "2025-03-21 12:04:40.672 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22374987602233887\n", "record": {"elapsed": {"repr": "0:00:00.799129", "seconds": 0.799129}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22374987602233887", "module": "main", "name": "app.main", "process": {"id": 7333, "name": "MainProcess"}, "thread": {"id": 6107590656, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:04:40.672952+05:30", "timestamp": 1742538880.672952}}}
{"text": "2025-03-21 12:06:12.341 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - 'ScalarResult' object has no attribute 'scalar_one_or_none'\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101415bc0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1014158a0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173372416)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173372416)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10508dee0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102256480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10508de40>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x1051165c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x10508e0c0>\n           │      └ <function Runner.run at 0x1026f62a0>\n           └ <asyncio.runners.Runner object at 0x1050cd5d0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1026ebec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1050cd5d0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1026ebe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1026f5c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x10263e980>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 1', True)>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 1', True)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 1', True)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 1', True)>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x105118fe0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x105118f40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1050bb790>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x105118fe0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x105118f40>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1050e24d0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10502cad0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1051191c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x105118f40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1051191c0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x105118f40>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10502cad0>>\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1051191c0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x105118f40>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103759300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1051191c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x105118f40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x105021b20>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1051191c0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x105118f40>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1050b81d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x105119260>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1051193a0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x105118f40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x105119260>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1050b81d0>\n                     └ <function get_request_handler.<locals>.app at 0x105021a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103758e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x1050e2f10>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x103dd8f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'alice@example.com'\n             │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n             │       └ <function UserService.is_email_taken at 0x104cbcb80>\n             └ <app.services.user_service.UserService object at 0x1050e2f10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x105020ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x1050e3590>\n                          └ <app.services.user_service.UserService object at 0x1050e2f10>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 23, in is_email_already_exists\n    return user.scalar_one_or_none()\n           └ <sqlalchemy.engine.result.ScalarResult object at 0x105151db0>\n\nAttributeError: 'ScalarResult' object has no attribute 'scalar_one_or_none'\n", "record": {"elapsed": {"repr": "0:00:00.069541", "seconds": 0.069541}, "exception": {"type": "AttributeError", "value": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7365, "name": "MainProcess"}, "thread": {"id": 6173372416, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:06:12.341506+05:30", "timestamp": 1742538972.341506}}}
{"text": "2025-03-21 12:06:12.589 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2852621078491211\n", "record": {"elapsed": {"repr": "0:00:00.317220", "seconds": 0.31722}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2852621078491211", "module": "main", "name": "app.main", "process": {"id": 7365, "name": "MainProcess"}, "thread": {"id": 6173372416, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:06:12.589185+05:30", "timestamp": 1742538972.589185}}}
{"text": "2025-03-21 12:06:12.619 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101415bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1014158a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10511b100>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102256480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10511b560>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x1051165c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x105118d60>\n           │      └ <function Runner.run at 0x1026f62a0>\n           └ <asyncio.runners.Runner object at 0x10502c290>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1026ebec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10502c290>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1026ebe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1026f5c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x10263e980>\n    └ <Handle <TaskStepMethWrapper object at 0x1050b4820>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1050b4820>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x1050b4820>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x1050b4820>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1052c2d40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1050bb790>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1052c2d40>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1050ba910>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10502cad0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10502cad0>>\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103759300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x105021b20>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1050ba8d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1052c2fc0>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c3100>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1052c2fc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1050ba8d0>\n                     └ <function get_request_handler.<locals>.app at 0x105021a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103758e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x105263610>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x103dd8f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'alice@example.com'\n             │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n             │       └ <function UserService.is_email_taken at 0x104cbcb80>\n             └ <app.services.user_service.UserService object at 0x105263610>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x105020ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x105263f10>\n                          └ <app.services.user_service.UserService object at 0x105263610>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1050e3650>\n               │    │          └ <function AsyncSession.exec at 0x104a54680>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1050e0a90>\n               └ <app.repository.user_repository.UserRespository object at 0x105263f10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x104043240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x1050e1f00 (otid=0x105155dd0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x1048dd620>\n           └ <sqlmodel.orm.session.Session object at 0x1050e1510>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x104726ca0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x104535580>\n             └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1050e36...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1045358a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x104535a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x104535b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x104535da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104600d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104a66d50>\n    └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104b83060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1050c9a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1050c9a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10500e560>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1050e1f00 (otid=0x105155dd0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10500e560>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104b8c180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104b83d80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1052a5380>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10513c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.347177", "seconds": 0.347177}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7365, "name": "MainProcess"}, "thread": {"id": 6173372416, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:06:12.619142+05:30", "timestamp": 1742538972.619142}}}
{"text": "2025-03-21 12:06:12.844 | ERROR    | app.repository.user_repository:create:37 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$.aWRReccd03aga6HzXqGE.4htj5nCCZEonjWQeDiwmbQpjn7NO6Ke', datetime.datetime(2025, 3, 21, 6, 36, 12, 844511), datetime.datetime(2025, 3, 21, 6, 36, 12, 844512))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_9__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1052a55b0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_9__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10513c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104600d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104a66d50>\n    └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$.aWRReccd03aga6HzXqGE.4htj5nCCZEonjWQeDiwmbQpjn7NO6Ke', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104b83060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1052a94e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1052a94e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1051e0820>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1050e2380 (otid=0x105155dd0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1051e0820>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104b8c180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104b83d80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101415bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1014158a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10511b100>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102256480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10511b560>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x1051165c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x105118d60>\n           │      └ <function Runner.run at 0x1026f62a0>\n           └ <asyncio.runners.Runner object at 0x10502c290>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1026ebec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10502c290>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1026ebe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1026f5c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x10263e980>\n    └ <Handle <TaskStepMethWrapper object at 0x1050b4820>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1050b4820>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x1050b4820>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x1050b4820>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1052c2d40>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1050bb790>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1052c2d40>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1050ba910>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10502cad0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10502cad0>>\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103759300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x105021b20>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c2f20>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1050ba8d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1052c2fc0>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1052c3100>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1052c2ca0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1052c2fc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1050ba8d0>\n                     └ <function get_request_handler.<locals>.app at 0x105021a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103758e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x105263610>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x103dd8f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 17, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │       └ <function UserService.register_user at 0x105020fe0>\n                 └ <app.services.user_service.UserService object at 0x105263610>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │    │         └ <function UserRespository.create at 0x105020f40>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x105263f10>\n                 └ <app.services.user_service.UserService object at 0x105263610>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x104a23b00>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1050e0a90>\n          └ <app.repository.user_repository.UserRespository object at 0x105263f10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x1048dd1c0>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x1050e1510>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1050e0a90>\n          └ <function greenlet_spawn at 0x104043240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x1050e2380 (otid=0x105155dd0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x1048dc2c0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10529d2c0>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10529d2c0>\n                └ <function SessionTransaction.commit at 0x1048dc0e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x1048dc040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10529d2c0>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10529d2c0>\n                └ <function SessionTransaction._prepare_impl at 0x1048d3ec0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x1048e00e0>\n    │    └ <sqlmodel.orm.session.Session object at 0x1050e1510>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10529d2c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x1048e02c0>\n    └ <sqlmodel.orm.session.Session object at 0x1050e1510>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x1054da140>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x1048d0b80>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x105263690>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x105263690>\n    │   └ <function SaveUpdateAll.execute at 0x1048d16c0>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x104804680>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x10487bb00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x104535580>\n             └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x1052632d0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1045358a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x104535a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x104535b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x104535da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104600d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104a66d50>\n    └ <sqlalchemy.engine.base.Connection object at 0x1050bbc50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$.aWRReccd03aga6HzXqGE.4htj5nCCZEonjWQeDiwmbQpjn7NO6Ke', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104b83060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1052a94e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1052a94e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1051e0820>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1050e2380 (otid=0x105155dd0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1051e0820>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104b8c180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104b83d80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$.aWRReccd03aga6HzXqGE.4htj5nCCZEonjWQeDiwmbQpjn7NO6Ke', datetime.datetime(2025, 3, 21, 6, 36, 12, 844511), datetime.datetime(2025, 3, 21, 6, 36, 12, 844512))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.572976", "seconds": 0.572976}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$.aWRReccd03aga6HzXqGE.4htj5nCCZEonjWQeDiwmbQpjn7NO6Ke', datetime.datetime(2025, 3, 21, 6, 36, 12, 844511), datetime.datetime(2025, 3, 21, 6, 36, 12, 844512))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 37, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$.aWRReccd03aga6HzXqGE.4htj5nCCZEonjWQeDiwmbQpjn7NO6Ke', datetime.datetime(2025, 3, 21, 6, 36, 12, 844511), datetime.datetime(2025, 3, 21, 6, 36, 12, 844512))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7365, "name": "MainProcess"}, "thread": {"id": 6173372416, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:06:12.844941+05:30", "timestamp": 1742538972.844941}}}
{"text": "2025-03-21 12:06:12.854 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23608875274658203\n", "record": {"elapsed": {"repr": "0:00:00.582058", "seconds": 0.582058}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23608875274658203", "module": "main", "name": "app.main", "process": {"id": 7365, "name": "MainProcess"}, "thread": {"id": 6173372416, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:06:12.854023+05:30", "timestamp": 1742538972.854023}}}
{"text": "2025-03-21 12:06:12.860 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x105346ce0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10513c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104600d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104a66d50>\n    └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104b83060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1050c9a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1050c9a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10500ec20>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1054d9a00 (otid=0x105027d20) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10500ec20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104b8c180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104b83d80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101415bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1014158a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x1052c2c00>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102256480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x1052c25c0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x1051165c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x101417060>\n           │      └ <function Runner.run at 0x1026f62a0>\n           └ <asyncio.runners.Runner object at 0x105263e90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1026ebec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x105263e90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1026ebe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1026f5c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x10263e980>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1054e04a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1050bb790>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1054e04a0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1054d8850>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10502cad0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10502cad0>>\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103759300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x105021b20>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1054da710>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1054e0860>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e09a0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1054e0860>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1054da710>\n                     └ <function get_request_handler.<locals>.app at 0x105021a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103758e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x1054da550>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x103dd8f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'invalid-email'\n             │       │              └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n             │       └ <function UserService.is_email_taken at 0x104cbcb80>\n             └ <app.services.user_service.UserService object at 0x1054da550>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'invalid-email'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x105020ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x1054d9710>\n                          └ <app.services.user_service.UserService object at 0x1054da550>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1054d9410>\n               │    │          └ <function AsyncSession.exec at 0x104a54680>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1054d9790>\n               └ <app.repository.user_repository.UserRespository object at 0x1054d9710>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x104043240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x1054d9a00 (otid=0x105027d20) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x1048dd620>\n           └ <sqlmodel.orm.session.Session object at 0x1054d9550>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x104726ca0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x104535580>\n             └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1054d94...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1045358a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x104535a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x104535b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x104535da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104600d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104a66d50>\n    └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104b83060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1050c9a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1050c9a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10500ec20>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1054d9a00 (otid=0x105027d20) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10500ec20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104b8c180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104b83d80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.588109", "seconds": 0.588109}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7365, "name": "MainProcess"}, "thread": {"id": 6173372416, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:06:12.860074+05:30", "timestamp": 1742538972.860074}}}
{"text": "2025-03-21 12:06:13.079 | ERROR    | app.repository.user_repository:create:37 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$tTNH4QYNoUG9bYaP3PhO3.BRpD8qbcou9CKaw0PmL2t8p9ZFR9CA.', datetime.datetime(2025, 3, 21, 6, 36, 13, 78931), datetime.datetime(2025, 3, 21, 6, 36, 13, 78933))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_b__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1050a2b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_b__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10513c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104600d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104a66d50>\n    └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('', 'Smith', 'invalid-email', '$2b$12$tTNH4QYNoUG9bYaP3PhO3.BRpD8qbcou9CKaw0PmL2t8p9ZFR9CA.', datetime.datetime(2025, 3, 21,...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104b83060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10510dba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10510dba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1051e0940>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x104fea580 (otid=0x105027d20) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1051e0940>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104b8c180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104b83d80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101415bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1014158a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x1052c2c00>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6173372416)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102256480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x1052c25c0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x1051165c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x101417060>\n           │      └ <function Runner.run at 0x1026f62a0>\n           └ <asyncio.runners.Runner object at 0x105263e90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1026ebec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x105263e90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1026ebe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1026f5c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x10263e980>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1054e04a0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1050bb790>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1054e04a0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1054d8850>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10502cad0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1050bac90>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10502cad0>>\n          └ <fastapi.routing.APIRouter object at 0x10502cad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103759300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x105021b20>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e07c0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1054da710>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1054e0860>\n          └ <function wrap_app_handling_exceptions at 0x10372bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1054e09a0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1054e00e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1054e0860>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1054da710>\n                     └ <function get_request_handler.<locals>.app at 0x105021a80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103758e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x1054da550>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x103dd8f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 17, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                 │       └ <function UserService.register_user at 0x105020fe0>\n                 └ <app.services.user_service.UserService object at 0x1054da550>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                 │    │         └ <function UserRespository.create at 0x105020f40>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x1054d9710>\n                 └ <app.services.user_service.UserService object at 0x1054da550>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x104a23b00>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1054d9790>\n          └ <app.repository.user_repository.UserRespository object at 0x1054d9710>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x1048dd1c0>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x1054d9550>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1054d9790>\n          └ <function greenlet_spawn at 0x104043240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x104fea580 (otid=0x105027d20) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x1048dc2c0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x105150be0>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x105150be0>\n                └ <function SessionTransaction.commit at 0x1048dc0e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x1048dc040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x105150be0>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x105150be0>\n                └ <function SessionTransaction._prepare_impl at 0x1048d3ec0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x1048e00e0>\n    │    └ <sqlmodel.orm.session.Session object at 0x1054d9550>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x105150be0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x1048e02c0>\n    └ <sqlmodel.orm.session.Session object at 0x1054d9550>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x1050daf80>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x1048d0b80>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x1052b8950>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x1052b8950>\n    │   └ <function SaveUpdateAll.execute at 0x1048d16c0>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x104804680>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x10487bb00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x104535580>\n             └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x1052632d0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1045358a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x104535a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x104535b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x104535da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x104600d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x104a66d50>\n    └ <sqlalchemy.engine.base.Connection object at 0x1054dab10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('', 'Smith', 'invalid-email', '$2b$12$tTNH4QYNoUG9bYaP3PhO3.BRpD8qbcou9CKaw0PmL2t8p9ZFR9CA.', datetime.datetime(2025, 3, 21,...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x104b83060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10510dba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10510dba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1051e0940>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x104fea580 (otid=0x105027d20) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1051e0940>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104b8c180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x104b83d80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10513c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$tTNH4QYNoUG9bYaP3PhO3.BRpD8qbcou9CKaw0PmL2t8p9ZFR9CA.', datetime.datetime(2025, 3, 21, 6, 36, 13, 78931), datetime.datetime(2025, 3, 21, 6, 36, 13, 78933))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.807315", "seconds": 0.807315}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$tTNH4QYNoUG9bYaP3PhO3.BRpD8qbcou9CKaw0PmL2t8p9ZFR9CA.', datetime.datetime(2025, 3, 21, 6, 36, 13, 78931), datetime.datetime(2025, 3, 21, 6, 36, 13, 78933))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 37, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$tTNH4QYNoUG9bYaP3PhO3.BRpD8qbcou9CKaw0PmL2t8p9ZFR9CA.', datetime.datetime(2025, 3, 21, 6, 36, 13, 78931), datetime.datetime(2025, 3, 21, 6, 36, 13, 78933))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7365, "name": "MainProcess"}, "thread": {"id": 6173372416, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:06:13.079280+05:30", "timestamp": 1742538973.07928}}}
{"text": "2025-03-21 12:06:13.084 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22680282592773438\n", "record": {"elapsed": {"repr": "0:00:00.812758", "seconds": 0.812758}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22680282592773438", "module": "main", "name": "app.main", "process": {"id": 7365, "name": "MainProcess"}, "thread": {"id": 6173372416, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:06:13.084723+05:30", "timestamp": 1742538973.084723}}}
{"text": "2025-03-21 12:10:23.043 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - 'ScalarResult' object has no attribute 'scalar_one_or_none'\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x104cd1bc0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x104cd18a0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6114455552)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6114455552)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10a79dee0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x105d6a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10a79de40>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x10a8265c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x10a79e0c0>\n           │      └ <function Runner.run at 0x10616a2a0>\n           └ <asyncio.runners.Runner object at 0x10a7e3c10>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10615fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a7e3c10>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10615fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x106169c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1060b2980>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 2', True)>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 2', True)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 2', True)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 2', True)>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a829080>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a828fe0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10a7caa50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a829080>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a828fe0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x10a7f1f50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a8287c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a828fe0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a8287c0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a828fe0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10a1675d0>>\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a8287c0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a828fe0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x107745300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a8287c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a828fe0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10a7323e0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a8287c0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a828fe0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x10a7f1b50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10a829260>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a8293a0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a828fe0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10a829260>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10a7f1b50>\n                     └ <function get_request_handler.<locals>.app at 0x10a732340>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x107744e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x10a7c1b90>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x1087c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'alice@example.com'\n             │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n             │       └ <function UserService.is_email_taken at 0x10a1e4b80>\n             └ <app.services.user_service.UserService object at 0x10a7c1b90>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x10a730ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x10a7ca0d0>\n                          └ <app.services.user_service.UserService object at 0x10a7c1b90>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 23, in is_email_already_exists\n    return user.scalar_one_or_none()\n           └ <sqlalchemy.engine.result.ScalarResult object at 0x10a861d60>\n\nAttributeError: 'ScalarResult' object has no attribute 'scalar_one_or_none'\n", "record": {"elapsed": {"repr": "0:00:00.067430", "seconds": 0.06743}, "exception": {"type": "AttributeError", "value": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7411, "name": "MainProcess"}, "thread": {"id": 6114455552, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:10:23.043481+05:30", "timestamp": 1742539223.043481}}}
{"text": "2025-03-21 12:10:23.294 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2868969440460205\n", "record": {"elapsed": {"repr": "0:00:00.318876", "seconds": 0.318876}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2868969440460205", "module": "main", "name": "app.main", "process": {"id": 7411, "name": "MainProcess"}, "thread": {"id": 6114455552, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:10:23.294927+05:30", "timestamp": 1742539223.294927}}}
{"text": "2025-03-21 12:10:23.324 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x104cd1bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x104cd18a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10a82b560>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x105d6a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10a82ba60>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x10a8265c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x10a828400>\n           │      └ <function Runner.run at 0x10616a2a0>\n           └ <asyncio.runners.Runner object at 0x10a9736d0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10615fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a9736d0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10615fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x106169c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1060b2980>\n    └ <Handle <TaskStepMethWrapper object at 0x10a7c4f10>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x10a7c4f10>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x10a7c4f10>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x10a7c4f10>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a9cf7e0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10a7caa50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a9cf7e0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x10a86cc50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10a1675d0>>\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x107745300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10a7323e0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x10a99ad10>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10a9cfa60>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cfba0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10a9cfa60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10a99ad10>\n                     └ <function get_request_handler.<locals>.app at 0x10a732340>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x107744e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x10a7f23d0>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x1087c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'alice@example.com'\n             │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n             │       └ <function UserService.is_email_taken at 0x10a1e4b80>\n             └ <app.services.user_service.UserService object at 0x10a7f23d0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x10a730ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x10a7c2d10>\n                          └ <app.services.user_service.UserService object at 0x10a7f23d0>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x10a7f3350>\n               │    │          └ <function AsyncSession.exec at 0x109f78680>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x10a7f20d0>\n               └ <app.repository.user_repository.UserRespository object at 0x10a7c2d10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x10922f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x10a7f2940 (otid=0x10a83d050) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x109d01620>\n           └ <sqlmodel.orm.session.Session object at 0x10a7f1f90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x109b4aca0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x109859580>\n             └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x10a7f33...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1098598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x109859a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x109859b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x109859da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x109a24d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x109f8b550>\n    └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10a0ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a479fc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a479fc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a71e560>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10a7f2940 (otid=0x10a83d050) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a71e560>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x10a0b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10a0abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x10a9b55b0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10a84c5e0>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.348005", "seconds": 0.348005}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7411, "name": "MainProcess"}, "thread": {"id": 6114455552, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:10:23.324056+05:30", "timestamp": 1742539223.324056}}}
{"text": "2025-03-21 12:10:23.549 | ERROR    | app.repository.user_repository:create:38 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$eMh2V/vmif21xNda4vROUOMm5dxWmJ3ALJAoAkqfdvYPxLDb1Hy8i', datetime.datetime(2025, 3, 21, 6, 40, 23, 548708), datetime.datetime(2025, 3, 21, 6, 40, 23, 548711))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x10a9b5850>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10a84c5e0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x109a24d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x109f8b550>\n    └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$eMh2V/vmif21xNda4vROUOMm5dxWmJ3ALJAoAkqfdvYPxLDb1Hy8i', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10a0ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a9b9d20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a9b9d20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a8f0a60>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10a9c92c0 (otid=0x10a83d050) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a8f0a60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x10a0b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10a0abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x104cd1bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x104cd18a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10a82b560>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x105d6a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10a82ba60>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x10a8265c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x10a828400>\n           │      └ <function Runner.run at 0x10616a2a0>\n           └ <asyncio.runners.Runner object at 0x10a9736d0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10615fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a9736d0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10615fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x106169c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1060b2980>\n    └ <Handle <TaskStepMethWrapper object at 0x10a7c4f10>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x10a7c4f10>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x10a7c4f10>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x10a7c4f10>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a9cf7e0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10a7caa50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a9cf7e0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x10a86cc50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10a1675d0>>\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x107745300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10a7323e0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cf9c0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x10a99ad10>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10a9cfa60>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9cfba0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9cf740>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10a9cfa60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10a99ad10>\n                     └ <function get_request_handler.<locals>.app at 0x10a732340>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x107744e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x10a7f23d0>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x1087c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 17, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │       └ <function UserService.register_user at 0x10a730fe0>\n                 └ <app.services.user_service.UserService object at 0x10a7f23d0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │    │         └ <function UserRespository.create at 0x10a730f40>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x10a7c2d10>\n                 └ <app.services.user_service.UserService object at 0x10a7f23d0>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x109f47b00>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x10a7f20d0>\n          └ <app.repository.user_repository.UserRespository object at 0x10a7c2d10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x109d011c0>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x10a7f1f90>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x10a7f20d0>\n          └ <function greenlet_spawn at 0x10922f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x10a9c92c0 (otid=0x10a83d050) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x109d002c0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a9adea0>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a9adea0>\n                └ <function SessionTransaction.commit at 0x109d000e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x109d00040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a9adea0>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a9adea0>\n                └ <function SessionTransaction._prepare_impl at 0x109cf7ec0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x109d040e0>\n    │    └ <sqlmodel.orm.session.Session object at 0x10a7f1f90>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a9adea0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x109d042c0>\n    └ <sqlmodel.orm.session.Session object at 0x10a7f1f90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x10ad00080>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x109cf4b80>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x10accf050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x10accf050>\n    │   └ <function SaveUpdateAll.execute at 0x109cf56c0>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x109c28680>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x109c9fb00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x109859580>\n             └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x10a998390>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1098598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x109859a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x109859b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x109859da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x109a24d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x109f8b550>\n    └ <sqlalchemy.engine.base.Connection object at 0x10a9ca010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$eMh2V/vmif21xNda4vROUOMm5dxWmJ3ALJAoAkqfdvYPxLDb1Hy8i', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10a0ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a9b9d20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a9b9d20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a8f0a60>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10a9c92c0 (otid=0x10a83d050) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a8f0a60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x10a0b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10a0abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$eMh2V/vmif21xNda4vROUOMm5dxWmJ3ALJAoAkqfdvYPxLDb1Hy8i', datetime.datetime(2025, 3, 21, 6, 40, 23, 548708), datetime.datetime(2025, 3, 21, 6, 40, 23, 548711))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.573057", "seconds": 0.573057}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$eMh2V/vmif21xNda4vROUOMm5dxWmJ3ALJAoAkqfdvYPxLDb1Hy8i', datetime.datetime(2025, 3, 21, 6, 40, 23, 548708), datetime.datetime(2025, 3, 21, 6, 40, 23, 548711))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$eMh2V/vmif21xNda4vROUOMm5dxWmJ3ALJAoAkqfdvYPxLDb1Hy8i', datetime.datetime(2025, 3, 21, 6, 40, 23, 548708), datetime.datetime(2025, 3, 21, 6, 40, 23, 548711))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7411, "name": "MainProcess"}, "thread": {"id": 6114455552, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:10:23.549108+05:30", "timestamp": 1742539223.549108}}}
{"text": "2025-03-21 12:10:23.558 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23568105697631836\n", "record": {"elapsed": {"repr": "0:00:00.582470", "seconds": 0.58247}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23568105697631836", "module": "main", "name": "app.main", "process": {"id": 7411, "name": "MainProcess"}, "thread": {"id": 6114455552, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:10:23.558521+05:30", "timestamp": 1742539223.558521}}}
{"text": "2025-03-21 12:10:23.564 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_b__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x10ab62f80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_b__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10a84c5e0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x109a24d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x109f8b550>\n    └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10a0ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a479fc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a479fc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a71ec20>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10ad5bbc0 (otid=0x10a7c4ed0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a71ec20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x10a0b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10a0abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x104cd1bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x104cd18a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10a827f60>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x105d6a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10a828900>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x10a8265c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x104cd3060>\n           │      └ <function Runner.run at 0x10616a2a0>\n           └ <asyncio.runners.Runner object at 0x10a973750>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10615fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a973750>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10615fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x106169c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1060b2980>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a9f4ea0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10a7caa50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a9f4ea0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x10a7442d0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10a1675d0>>\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x107745300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10a7323e0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x10a7474d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10a9f5300>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10a9f5300>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10a7474d0>\n                     └ <function get_request_handler.<locals>.app at 0x10a732340>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x107744e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x10accf750>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x1087c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    if await service.is_email_taken(user.email):\n             │       │              │    └ 'invalid-email'\n             │       │              └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n             │       └ <function UserService.is_email_taken at 0x10a1e4b80>\n             └ <app.services.user_service.UserService object at 0x10accf750>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'invalid-email'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x10a730ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x10ad5b950>\n                          └ <app.services.user_service.UserService object at 0x10accf750>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1087ca090>\n               │    │          └ <function AsyncSession.exec at 0x109f78680>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x10acce4d0>\n               └ <app.repository.user_repository.UserRespository object at 0x10ad5b950>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x10922f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x10ad5bbc0 (otid=0x10a7c4ed0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x109d01620>\n           └ <sqlmodel.orm.session.Session object at 0x10acce990>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x109b4aca0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x109859580>\n             └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1087ca0...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1098598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x109859a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x109859b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x109859da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x109a24d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x109f8b550>\n    └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10a0ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a479fc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a479fc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a71ec20>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10ad5bbc0 (otid=0x10a7c4ed0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a71ec20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x10a0b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10a0abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.588438", "seconds": 0.588438}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7411, "name": "MainProcess"}, "thread": {"id": 6114455552, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:10:23.564489+05:30", "timestamp": 1742539223.564489}}}
{"text": "2025-03-21 12:10:23.786 | ERROR    | app.repository.user_repository:create:38 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$1Ij/gYzMqOly9Zba8qX96.54P5sgYtAX9MWDZuAXSkcovpTVGlohm', datetime.datetime(2025, 3, 21, 6, 40, 23, 785973), datetime.datetime(2025, 3, 21, 6, 40, 23, 785977))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_c__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x10a7b2500>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_c__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10a84c5e0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x109a24d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x109f8b550>\n    └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('', 'Smith', 'invalid-email', '$2b$12$1Ij/gYzMqOly9Zba8qX96.54P5sgYtAX9MWDZuAXSkcovpTVGlohm', datetime.datetime(2025, 3, 21,...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10a0ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a8216c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a8216c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a8f0b80>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10acce480 (otid=0x10a7c4ed0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a8f0b80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x10a0b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10a0abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x104cd1bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x104cd18a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10a827f60>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6114455552)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x105d6a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10a828900>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x10a8265c0>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x104cd3060>\n           │      └ <function Runner.run at 0x10616a2a0>\n           └ <asyncio.runners.Runner object at 0x10a973750>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10615fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x10a973750>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10615fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x106169c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1060b2980>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a9f4ea0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x10a7caa50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x10a9f4ea0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x10a7442d0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x10a7cac50>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x10a1675d0>>\n          └ <fastapi.routing.APIRouter object at 0x10a1675d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x107745300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10a7323e0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5260>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x10a7474d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x10a9f5300>\n          └ <function wrap_app_handling_exceptions at 0x107717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x10a9f5440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x10a9f4ae0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x10a9f5300>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10a7474d0>\n                     └ <function get_request_handler.<locals>.app at 0x10a732340>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x107744e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x10accf750>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x1087c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 17, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                 │       └ <function UserService.register_user at 0x10a730fe0>\n                 └ <app.services.user_service.UserService object at 0x10accf750>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                 │    │         └ <function UserRespository.create at 0x10a730f40>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x10ad5b950>\n                 └ <app.services.user_service.UserService object at 0x10accf750>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x109f47b00>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x10acce4d0>\n          └ <app.repository.user_repository.UserRespository object at 0x10ad5b950>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x109d011c0>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x10acce990>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x10acce4d0>\n          └ <function greenlet_spawn at 0x10922f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x10acce480 (otid=0x10a7c4ed0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x109d002c0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a80e8a0>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a80e8a0>\n                └ <function SessionTransaction.commit at 0x109d000e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x109d00040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a80e8a0>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a80e8a0>\n                └ <function SessionTransaction._prepare_impl at 0x109cf7ec0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x109d040e0>\n    │    └ <sqlmodel.orm.session.Session object at 0x10acce990>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10a80e8a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x109d042c0>\n    └ <sqlmodel.orm.session.Session object at 0x10acce990>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x10a792800>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x109cf4b80>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x10a9ca550>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x10a9ca550>\n    │   └ <function SaveUpdateAll.execute at 0x109cf56c0>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x109c28680>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x109c9fb00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x109859580>\n             └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x10a998390>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1098598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x109859a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x109859b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x109859da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x109a24d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x109f8b550>\n    └ <sqlalchemy.engine.base.Connection object at 0x10accff90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('', 'Smith', 'invalid-email', '$2b$12$1Ij/gYzMqOly9Zba8qX96.54P5sgYtAX9MWDZuAXSkcovpTVGlohm', datetime.datetime(2025, 3, 21,...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10a0ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a8216c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x10a8216c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a8f0b80>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10acce480 (otid=0x10a7c4ed0) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10a8f0b80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x10a0b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10a0abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10a84c5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$1Ij/gYzMqOly9Zba8qX96.54P5sgYtAX9MWDZuAXSkcovpTVGlohm', datetime.datetime(2025, 3, 21, 6, 40, 23, 785973), datetime.datetime(2025, 3, 21, 6, 40, 23, 785977))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.810271", "seconds": 0.810271}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$1Ij/gYzMqOly9Zba8qX96.54P5sgYtAX9MWDZuAXSkcovpTVGlohm', datetime.datetime(2025, 3, 21, 6, 40, 23, 785973), datetime.datetime(2025, 3, 21, 6, 40, 23, 785977))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$1Ij/gYzMqOly9Zba8qX96.54P5sgYtAX9MWDZuAXSkcovpTVGlohm', datetime.datetime(2025, 3, 21, 6, 40, 23, 785973), datetime.datetime(2025, 3, 21, 6, 40, 23, 785977))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7411, "name": "MainProcess"}, "thread": {"id": 6114455552, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:10:23.786322+05:30", "timestamp": 1742539223.786322}}}
{"text": "2025-03-21 12:10:23.791 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2295217514038086\n", "record": {"elapsed": {"repr": "0:00:00.815809", "seconds": 0.815809}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2295217514038086", "module": "main", "name": "app.main", "process": {"id": 7411, "name": "MainProcess"}, "thread": {"id": 6114455552, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:10:23.791860+05:30", "timestamp": 1742539223.79186}}}
{"text": "2025-03-21 12:11:34.245 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - 'ScalarResult' object has no attribute 'scalar_one_or_none'\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101021bc0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1010218a0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6178189312)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6178189312)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10699df80>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x101dca480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10699dee0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106a26660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x10699e160>\n           │      └ <function Runner.run at 0x10226a2a0>\n           └ <asyncio.runners.Runner object at 0x106949f10>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10225fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x106949f10>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10225fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x102269c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1021b2980>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 3', True)>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 3', True)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 3', True)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 3', True)>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106a29120>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a29080>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1069ca5d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106a29120>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a29080>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1069f1ed0>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x1068f2050>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106a28860>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a29080>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106a28860>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a29080>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1068f2050>>\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106a28860>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a29080>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103749300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106a28860>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a29080>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x106931bc0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106a28860>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a29080>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1069f1dd0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x106a29300>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106a29440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a29080>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x106a29300>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1069f1dd0>\n                     └ <function get_request_handler.<locals>.app at 0x106931b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103748e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x1069f3150>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x1047c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x105be4c20>\n                        └ <app.services.user_service.UserService object at 0x1069f3150>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x106930f40>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x1069f3810>\n                          └ <app.services.user_service.UserService object at 0x1069f3150>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 23, in is_email_already_exists\n    return user.scalar_one_or_none()\n           └ <sqlalchemy.engine.result.ScalarResult object at 0x106a60730>\n\nAttributeError: 'ScalarResult' object has no attribute 'scalar_one_or_none'\n", "record": {"elapsed": {"repr": "0:00:00.060405", "seconds": 0.060405}, "exception": {"type": "AttributeError", "value": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7437, "name": "MainProcess"}, "thread": {"id": 6178189312, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:11:34.245065+05:30", "timestamp": 1742539294.245065}}}
{"text": "2025-03-21 12:11:34.487 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.27402710914611816\n", "record": {"elapsed": {"repr": "0:00:00.302658", "seconds": 0.302658}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.27402710914611816", "module": "main", "name": "app.main", "process": {"id": 7437, "name": "MainProcess"}, "thread": {"id": 6178189312, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:11:34.487318+05:30", "timestamp": 1742539294.487318}}}
{"text": "2025-03-21 12:11:34.516 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101021bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1010218a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x106a2b1a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x101dca480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106a2b600>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106a26660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x106a28ea0>\n           │      └ <function Runner.run at 0x10226a2a0>\n           └ <asyncio.runners.Runner object at 0x1022e6dd0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10225fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1022e6dd0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10225fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x102269c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1021b2980>\n    └ <Handle <TaskStepMethWrapper object at 0x1069c4c70>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1069c4c70>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x1069c4c70>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x1069c4c70>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106bd3920>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1069ca5d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106bd3920>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x106b73f10>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x1068f2050>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1068f2050>>\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103749300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x106931bc0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x106b737d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x106bd3ba0>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3ce0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x106bd3ba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x106b737d0>\n                     └ <function get_request_handler.<locals>.app at 0x106931b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103748e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x106bca950>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x1047c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x105be4c20>\n                        └ <app.services.user_service.UserService object at 0x106bca950>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x106930f40>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x1069f1ed0>\n                          └ <app.services.user_service.UserService object at 0x106bca950>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1069f1d10>\n               │    │          └ <function AsyncSession.exec at 0x105678680>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x106bc8b90>\n               └ <app.repository.user_repository.UserRespository object at 0x1069f1ed0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x104a2f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x106bc9d40 (otid=0x106a40f90) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x105501620>\n           └ <sqlmodel.orm.session.Session object at 0x106bc8e50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x10534aca0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x105059580>\n             └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1069f1d...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1050598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x105059a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x105059b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x105059da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105124d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105695950>\n    └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x1057ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1069d89a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1069d89a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106916680>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x106bc9d40 (otid=0x106a40f90) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106916680>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x1057b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x1057abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x106bb5850>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x106a4c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.331636", "seconds": 0.331636}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7437, "name": "MainProcess"}, "thread": {"id": 6178189312, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:11:34.516296+05:30", "timestamp": 1742539294.516296}}}
{"text": "2025-03-21 12:11:34.736 | ERROR    | app.repository.user_repository:create:38 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$vhi1hjxLYCzAqM77wHEay.2TLYbdRIYbrV/P6ErpCeyxnM94U.1S.', datetime.datetime(2025, 3, 21, 6, 41, 34, 736352), datetime.datetime(2025, 3, 21, 6, 41, 34, 736355))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x106bb5cb0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x106a4c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105124d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105695950>\n    └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$vhi1hjxLYCzAqM77wHEay.2TLYbdRIYbrV/P6ErpCeyxnM94U.1S.', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x1057ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106bbdba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106bbdba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a74dc0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x106bca0c0 (otid=0x106a40f90) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a74dc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x1057b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x1057abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101021bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1010218a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x106a2b1a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x101dca480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106a2b600>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106a26660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x106a28ea0>\n           │      └ <function Runner.run at 0x10226a2a0>\n           └ <asyncio.runners.Runner object at 0x1022e6dd0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10225fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1022e6dd0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10225fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x102269c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1021b2980>\n    └ <Handle <TaskStepMethWrapper object at 0x1069c4c70>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1069c4c70>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x1069c4c70>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x1069c4c70>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106bd3920>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1069ca5d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106bd3920>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x106b73f10>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x1068f2050>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1068f2050>>\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103749300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x106931bc0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3b00>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x106b737d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x106bd3ba0>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bd3ce0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106bd3880>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x106bd3ba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x106b737d0>\n                     └ <function get_request_handler.<locals>.app at 0x106931b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103748e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x106bca950>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x1047c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 18, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │       └ <function UserService.register_user at 0x106931080>\n                 └ <app.services.user_service.UserService object at 0x106bca950>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │    │         └ <function UserRespository.create at 0x106930fe0>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x1069f1ed0>\n                 └ <app.services.user_service.UserService object at 0x106bca950>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x105647b00>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x106bc8b90>\n          └ <app.repository.user_repository.UserRespository object at 0x1069f1ed0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x1055011c0>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x106bc8e50>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x106bc8b90>\n          └ <function greenlet_spawn at 0x104a2f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x106bca0c0 (otid=0x106a40f90) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x1055002c0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2080>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2080>\n                └ <function SessionTransaction.commit at 0x1055000e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x105500040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2080>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2080>\n                └ <function SessionTransaction._prepare_impl at 0x1054f7ec0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x1055040e0>\n    │    └ <sqlmodel.orm.session.Session object at 0x106bc8e50>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2080>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x1055042c0>\n    └ <sqlmodel.orm.session.Session object at 0x106bc8e50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x106dfd180>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x1054f4b80>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x106ba4310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x106ba4310>\n    │   └ <function SaveUpdateAll.execute at 0x1054f56c0>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x105428680>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x10549fb00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x105059580>\n             └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x106ba73d0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1050598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x105059a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x105059b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x105059da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105124d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105695950>\n    └ <sqlalchemy.engine.base.Connection object at 0x106993310>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$vhi1hjxLYCzAqM77wHEay.2TLYbdRIYbrV/P6ErpCeyxnM94U.1S.', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x1057ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106bbdba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106bbdba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a74dc0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x106bca0c0 (otid=0x106a40f90) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a74dc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x1057b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x1057abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$vhi1hjxLYCzAqM77wHEay.2TLYbdRIYbrV/P6ErpCeyxnM94U.1S.', datetime.datetime(2025, 3, 21, 6, 41, 34, 736352), datetime.datetime(2025, 3, 21, 6, 41, 34, 736355))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.552085", "seconds": 0.552085}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$vhi1hjxLYCzAqM77wHEay.2TLYbdRIYbrV/P6ErpCeyxnM94U.1S.', datetime.datetime(2025, 3, 21, 6, 41, 34, 736352), datetime.datetime(2025, 3, 21, 6, 41, 34, 736355))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$vhi1hjxLYCzAqM77wHEay.2TLYbdRIYbrV/P6ErpCeyxnM94U.1S.', datetime.datetime(2025, 3, 21, 6, 41, 34, 736352), datetime.datetime(2025, 3, 21, 6, 41, 34, 736355))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7437, "name": "MainProcess"}, "thread": {"id": 6178189312, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:11:34.736745+05:30", "timestamp": 1742539294.736745}}}
{"text": "2025-03-21 12:11:34.743 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22824978828430176\n", "record": {"elapsed": {"repr": "0:00:00.558649", "seconds": 0.558649}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22824978828430176", "module": "main", "name": "app.main", "process": {"id": 7437, "name": "MainProcess"}, "thread": {"id": 6178189312, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:11:34.743309+05:30", "timestamp": 1742539294.743309}}}
{"text": "2025-03-21 12:11:34.749 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_b__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x106ddb370>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_b__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x106a4c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105124d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105695950>\n    └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x1057ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106db0400>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106db0400>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a74160>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x106b73440 (otid=0x106a43570) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a74160>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x1057b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x1057abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101021bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1010218a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x106bd2f20>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x101dca480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106bd3100>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106a26660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x101023060>\n           │      └ <function Runner.run at 0x10226a2a0>\n           └ <asyncio.runners.Runner object at 0x106dfd450>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10225fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x106dfd450>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10225fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x102269c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1021b2980>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106a28540>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1069ca5d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106a28540>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1069ebd90>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x1068f2050>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1068f2050>>\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103749300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x106931bc0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1069ebed0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x106bf8d60>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8b80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x106bf8d60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1069ebed0>\n                     └ <function get_request_handler.<locals>.app at 0x106931b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103748e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x1069dec50>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x1047c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'invalid-email'\n                        │       │              └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                        │       └ <function UserService.is_email_taken at 0x105be4c20>\n                        └ <app.services.user_service.UserService object at 0x1069dec50>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'invalid-email'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x106930f40>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x1069c2c10>\n                          └ <app.services.user_service.UserService object at 0x1069dec50>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1069c3450>\n               │    │          └ <function AsyncSession.exec at 0x105678680>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1069c2d90>\n               └ <app.repository.user_repository.UserRespository object at 0x1069c2c10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x104a2f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x106b73440 (otid=0x106a43570) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x105501620>\n           └ <sqlmodel.orm.session.Session object at 0x1069c2f10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x10534aca0>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x105059580>\n             └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1069c34...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1050598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x105059a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x105059b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x105059da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105124d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105695950>\n    └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('invalid-email',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x1057ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106db0400>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106db0400>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a74160>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x106b73440 (otid=0x106a43570) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a74160>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x1057b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x1057abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.564436", "seconds": 0.564436}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \nFROM users \nWHERE users.email = $1::VARCHAR]\n[parameters: ('invalid-email',)]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7437, "name": "MainProcess"}, "thread": {"id": 6178189312, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:11:34.749096+05:30", "timestamp": 1742539294.749096}}}
{"text": "2025-03-21 12:11:34.975 | ERROR    | app.repository.user_repository:create:38 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$4Ss.HuqPXE8axMck8QImL.dWa.8PqphSq453BCQWwRctGFMnSfATe', datetime.datetime(2025, 3, 21, 6, 41, 34, 974780), datetime.datetime(2025, 3, 21, 6, 41, 34, 974783))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_c__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x106bb5cb0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_c__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x106a4c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105124d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105695950>\n    └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('', 'Smith', 'invalid-email', '$2b$12$4Ss.HuqPXE8axMck8QImL.dWa.8PqphSq453BCQWwRctGFMnSfATe', datetime.datetime(2025, 3, 21,...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x1057ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106a1e740>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106a1e740>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a75000>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1069cb100 (otid=0x106a43570) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a75000>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x1057b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x1057abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x101021bc0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1010218a0>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x106bd2f20>\n    └ <Thread(Thread-4 (run_blocking_portal), started daemon 6178189312)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x101dca480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106bd3100>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106a26660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x101023060>\n           │      └ <function Runner.run at 0x10226a2a0>\n           └ <asyncio.runners.Runner object at 0x106dfd450>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10225fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x106dfd450>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10225fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x102269c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x1021b2980>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finished result=None>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106a28540>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1069ca5d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106a28540>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1069ebd90>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x1068f2050>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1069cb650>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1068f2050>>\n          └ <fastapi.routing.APIRouter object at 0x1068f2050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x103749300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x106931bc0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8e00>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1069ebed0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x106bf8d60>\n          └ <function wrap_app_handling_exceptions at 0x103717d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106bf8b80>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106a28a40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x106bf8d60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1069ebed0>\n                     └ <function get_request_handler.<locals>.app at 0x106931b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x103748e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x1069dec50>, 'user': UserCreate(first_name='', last_name='Smith...\n                 │         └ <function create_users at 0x1047c4f40>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 18, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                 │       └ <function UserService.register_user at 0x106931080>\n                 └ <app.services.user_service.UserService object at 0x1069dec50>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='', last_name='Smith', email='invalid-email', password='short', created_at=None, updated_at=None)\n                 │    │         └ <function UserRespository.create at 0x106930fe0>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x1069c2c10>\n                 └ <app.services.user_service.UserService object at 0x1069dec50>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x105647b00>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1069c2d90>\n          └ <app.repository.user_repository.UserRespository object at 0x1069c2c10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x1055011c0>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x1069c2f10>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1069c2d90>\n          └ <function greenlet_spawn at 0x104a2f240>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x1069cb100 (otid=0x106a43570) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x1055002c0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2170>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2170>\n                └ <function SessionTransaction.commit at 0x1055000e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x105500040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2170>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2170>\n                └ <function SessionTransaction._prepare_impl at 0x1054f7ec0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x1055040e0>\n    │    └ <sqlmodel.orm.session.Session object at 0x1069c2f10>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106bb2170>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x1055042c0>\n    └ <sqlmodel.orm.session.Session object at 0x1069c2f10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x106f82980>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x1054f4b80>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x1069f01d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x1069f01d0>\n    │   └ <function SaveUpdateAll.execute at 0x1054f56c0>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x105428680>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x10549fb00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x105059580>\n             └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x106ba73d0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1050598a0>\n           └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x105059a80>\n          └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x105059b20>\n           └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x105059da0>\n    └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105124d60>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105695950>\n    └ <sqlalchemy.engine.base.Connection object at 0x106ba4110>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('', 'Smith', 'invalid-email', '$2b$12$4Ss.HuqPXE8axMck8QImL.dWa.8PqphSq453BCQWwRctGFMnSfATe', datetime.datetime(2025, 3, 21,...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x1057ab060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106a1e740>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106a1e740>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a75000>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1069cb100 (otid=0x106a43570) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106a75000>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x1057b0180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x1057abd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106a4c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$4Ss.HuqPXE8axMck8QImL.dWa.8PqphSq453BCQWwRctGFMnSfATe', datetime.datetime(2025, 3, 21, 6, 41, 34, 974780), datetime.datetime(2025, 3, 21, 6, 41, 34, 974783))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.790463", "seconds": 0.790463}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$4Ss.HuqPXE8axMck8QImL.dWa.8PqphSq453BCQWwRctGFMnSfATe', datetime.datetime(2025, 3, 21, 6, 41, 34, 974780), datetime.datetime(2025, 3, 21, 6, 41, 34, 974783))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('', 'Smith', 'invalid-email', '$2b$12$4Ss.HuqPXE8axMck8QImL.dWa.8PqphSq453BCQWwRctGFMnSfATe', datetime.datetime(2025, 3, 21, 6, 41, 34, 974780), datetime.datetime(2025, 3, 21, 6, 41, 34, 974783))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7437, "name": "MainProcess"}, "thread": {"id": 6178189312, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:11:34.975123+05:30", "timestamp": 1742539294.975123}}}
{"text": "2025-03-21 12:11:34.980 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23233795166015625\n", "record": {"elapsed": {"repr": "0:00:00.795883", "seconds": 0.795883}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23233795166015625", "module": "main", "name": "app.main", "process": {"id": 7437, "name": "MainProcess"}, "thread": {"id": 6178189312, "name": "Thread-4 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:11:34.980543+05:30", "timestamp": 1742539294.980543}}}
{"text": "2025-03-21 12:13:18.457 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - 'ScalarResult' object has no attribute 'scalar_one_or_none'\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x1013e1bc0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1013e18a0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173585408)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173585408)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10649de40>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102b6a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x10649dda0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106526520>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x10649e020>\n           │      └ <function Runner.run at 0x1030da2a0>\n           └ <asyncio.runners.Runner object at 0x1064c2ad0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1030cfec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1064c2ad0>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1030cfe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1030d9c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x103022980>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 4', True)>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 4', True)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 4', True)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 4', True)>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106528fe0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106528f40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1064cfed0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064ccfd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106528fe0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106528f40>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1064f1b50>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x106438dd0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1064cfed0>\n          └ <function wrap_app_handling_exceptions at 0x104417d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106528720>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106528f40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x106438dd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106528720>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106528f40>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x106438dd0>>\n          └ <fastapi.routing.APIRouter object at 0x106438dd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106528720>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106528f40>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x104449300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106528720>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106528f40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10642dc60>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106528720>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106528f40>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1064f1810>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1065291c0>\n          └ <function wrap_app_handling_exceptions at 0x104417d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106529300>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106528f40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1065291c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1064f1810>\n                     └ <function get_request_handler.<locals>.app at 0x10642dbc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x104448e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x1064f2990>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x104bc4fe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x105ee4cc0>\n                        └ <app.services.user_service.UserService object at 0x1064f2990>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x10642cfe0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x1064f30d0>\n                          └ <app.services.user_service.UserService object at 0x1064f2990>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 23, in is_email_already_exists\n    return user.scalar_one_or_none()\n           └ <sqlalchemy.engine.result.ScalarResult object at 0x106561e50>\n\nAttributeError: 'ScalarResult' object has no attribute 'scalar_one_or_none'\n", "record": {"elapsed": {"repr": "0:00:00.065837", "seconds": 0.065837}, "exception": {"type": "AttributeError", "value": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7469, "name": "MainProcess"}, "thread": {"id": 6173585408, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:13:18.457662+05:30", "timestamp": 1742539398.457662}}}
{"text": "2025-03-21 12:13:18.708 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.28374505043029785\n", "record": {"elapsed": {"repr": "0:00:00.317169", "seconds": 0.317169}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.28374505043029785", "module": "main", "name": "app.main", "process": {"id": 7469, "name": "MainProcess"}, "thread": {"id": 6173585408, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:13:18.708994+05:30", "timestamp": 1742539398.708994}}}
{"text": "2025-03-21 12:13:18.740 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x1013e1bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1013e18a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10652b9c0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102b6a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106528900>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106526520>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x10652b060>\n           │      └ <function Runner.run at 0x1030da2a0>\n           └ <asyncio.runners.Runner object at 0x1061bab90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1030cfec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1061bab90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1030cfe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1030d9c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x103022980>\n    └ <Handle <TaskStepMethWrapper object at 0x1064c7be0>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1064c7be0>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x1064c7be0>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x1064c7be0>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1067d3880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1064cfed0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064ccfd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1067d3880>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1064cc750>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x106438dd0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1064cfed0>\n          └ <function wrap_app_handling_exceptions at 0x104417d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x106438dd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x106438dd0>>\n          └ <fastapi.routing.APIRouter object at 0x106438dd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x104449300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10642dc60>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1064ccbd0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1067d3b00>\n          └ <function wrap_app_handling_exceptions at 0x104417d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3c40>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1067d3b00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1064ccbd0>\n                     └ <function get_request_handler.<locals>.app at 0x10642dbc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x104448e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x106776390>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x104bc4fe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x105ee4cc0>\n                        └ <app.services.user_service.UserService object at 0x106776390>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x10642cfe0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x106776290>\n                          └ <app.services.user_service.UserService object at 0x106776390>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1067770d0>\n               │    │          └ <function AsyncSession.exec at 0x105c78720>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1067c9dd0>\n               └ <app.repository.user_repository.UserRespository object at 0x106776290>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x104f2f2e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x1067c8240 (otid=0x10653cf30) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x105afd6c0>\n           └ <sqlmodel.orm.session.Session object at 0x1067c9e50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x10584ad40>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x105659620>\n             └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1067770...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x105659940>\n           └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x105659b20>\n          └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x105659bc0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x105659e40>\n    └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105724e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105c8b050>\n    └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x105dab100>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106179d20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106179d20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1064167a0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1067c8240 (otid=0x10653cf30) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1064167a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x105db0220>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10654c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x105dabe20>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10654c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10654c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1064fda10>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10654c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.348747", "seconds": 0.348747}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7469, "name": "MainProcess"}, "thread": {"id": 6173585408, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:13:18.740572+05:30", "timestamp": 1742539398.740572}}}
{"text": "2025-03-21 12:13:18.967 | ERROR    | app.repository.user_repository:create:38 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$CVQKaORxFQJ6fmi0WXRJieDuwWrIGqkzqaWCXVltlXsqqFPrdG75e', datetime.datetime(2025, 3, 21, 6, 43, 18, 966688), datetime.datetime(2025, 3, 21, 6, 43, 18, 966691))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10654c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x1064fcc80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x10654c4f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105724e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105c8b050>\n    └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$CVQKaORxFQJ6fmi0WXRJieDuwWrIGqkzqaWCXVltlXsqqFPrdG75e', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x105dab100>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1064f49a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1064f49a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106570b80>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1064e1f80 (otid=0x10653cf30) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106570b80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x105db0220>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10654c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x105dabe20>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10654c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x1013e1bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x1013e18a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x10652b9c0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6173585408)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x102b6a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106528900>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106526520>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x10652b060>\n           │      └ <function Runner.run at 0x1030da2a0>\n           └ <asyncio.runners.Runner object at 0x1061bab90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x1030cfec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1061bab90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x1030cfe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x1030d9c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x103022980>\n    └ <Handle <TaskStepMethWrapper object at 0x1064c7be0>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x1064c7be0>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x1064c7be0>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x1064c7be0>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1067d3880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1064cfed0>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x1064ccfd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1067d3880>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x1064cc750>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x106438dd0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1064cfed0>\n          └ <function wrap_app_handling_exceptions at 0x104417d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x106438dd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x106438dd0>>\n          └ <fastapi.routing.APIRouter object at 0x106438dd0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x104449300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10642dc60>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3a60>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x1064ccbd0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1067d3b00>\n          └ <function wrap_app_handling_exceptions at 0x104417d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1067d3c40>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x1067d37e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1067d3b00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x1064ccbd0>\n                     └ <function get_request_handler.<locals>.app at 0x10642dbc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x104448e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x106776390>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x104bc4fe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 18, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │       └ <function UserService.register_user at 0x10642d120>\n                 └ <app.services.user_service.UserService object at 0x106776390>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │    │         └ <function UserRespository.create at 0x10642d080>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x106776290>\n                 └ <app.services.user_service.UserService object at 0x106776390>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x105c47ba0>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1067c9dd0>\n          └ <app.repository.user_repository.UserRespository object at 0x106776290>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x105afd260>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x1067c9e50>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1067c9dd0>\n          └ <function greenlet_spawn at 0x104f2f2e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x1064e1f80 (otid=0x10653cf30) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x105afc360>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x1067adb80>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x1067adb80>\n                └ <function SessionTransaction.commit at 0x105afc180>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x105afc040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x1067adb80>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x1067adb80>\n                └ <function SessionTransaction._prepare_impl at 0x105af7f60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x105b04180>\n    │    └ <sqlmodel.orm.session.Session object at 0x1067c9e50>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x1067adb80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x105b04360>\n    └ <sqlmodel.orm.session.Session object at 0x1067c9e50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x1069f1800>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x105af4c20>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x1064cd850>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x1064cd850>\n    │   └ <function SaveUpdateAll.execute at 0x105af5760>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x105a28720>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x105a93ba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x105659620>\n             └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x106776b50>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x105659940>\n           └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x105659b20>\n          └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x105659bc0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x105659e40>\n    └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105724e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x105c8b050>\n    └ <sqlalchemy.engine.base.Connection object at 0x1039d1010>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$CVQKaORxFQJ6fmi0WXRJieDuwWrIGqkzqaWCXVltlXsqqFPrdG75e', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x105dab100>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1064f49a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1064f49a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106570b80>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x1064e1f80 (otid=0x10653cf30) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106570b80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x105db0220>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10654c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x105dabe20>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x10654c4f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$CVQKaORxFQJ6fmi0WXRJieDuwWrIGqkzqaWCXVltlXsqqFPrdG75e', datetime.datetime(2025, 3, 21, 6, 43, 18, 966688), datetime.datetime(2025, 3, 21, 6, 43, 18, 966691))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.575253", "seconds": 0.575253}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$CVQKaORxFQJ6fmi0WXRJieDuwWrIGqkzqaWCXVltlXsqqFPrdG75e', datetime.datetime(2025, 3, 21, 6, 43, 18, 966688), datetime.datetime(2025, 3, 21, 6, 43, 18, 966691))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$CVQKaORxFQJ6fmi0WXRJieDuwWrIGqkzqaWCXVltlXsqqFPrdG75e', datetime.datetime(2025, 3, 21, 6, 43, 18, 966688), datetime.datetime(2025, 3, 21, 6, 43, 18, 966691))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7469, "name": "MainProcess"}, "thread": {"id": 6173585408, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:13:18.967078+05:30", "timestamp": 1742539398.967078}}}
{"text": "2025-03-21 12:13:18.975 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23708701133728027\n", "record": {"elapsed": {"repr": "0:00:00.583736", "seconds": 0.583736}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23708701133728027", "module": "main", "name": "app.main", "process": {"id": 7469, "name": "MainProcess"}, "thread": {"id": 6173585408, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:13:18.975561+05:30", "timestamp": 1742539398.975561}}}
{"text": "2025-03-21 12:14:04.271 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Multiple rows were found when one or none was required\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x100ed9bc0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x100ed98a0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6185512960)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6185512960)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x104501f80>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x1016ca480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x104501ee0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x104582660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x104502160>\n           │      └ <function Runner.run at 0x101b6a2a0>\n           └ <asyncio.runners.Runner object at 0x104540790>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x101b5fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x104540790>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x101b5fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x101b69c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x101ab2980>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 5', True)>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 5', True)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 5', True)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 5', True)>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x104585120>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104585080>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104533290>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104533390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x104585120>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104585080>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x104595190>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104533290>\n          └ <function wrap_app_handling_exceptions at 0x102b9fd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104584860>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104585080>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104584860>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104585080>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1044a05d0>>\n          └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104584860>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104585080>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x102bd1300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104584860>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104585080>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x104495bc0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104584860>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104585080>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x10440f7d0>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x104585300>\n          └ <function wrap_app_handling_exceptions at 0x102b9fd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104585440>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104585080>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x104585300>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x10440f7d0>\n                     └ <function get_request_handler.<locals>.app at 0x104495b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x102bd0e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x104595fd0>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x10324cfe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x104134c20>\n                        └ <app.services.user_service.UserService object at 0x104595fd0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x104494f40>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x104596650>\n                          └ <app.services.user_service.UserService object at 0x104595fd0>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 23, in is_email_already_exists\n    return user.scalar_one_or_none()\n           │    └ <function Result.scalar_one_or_none at 0x103a23f60>\n           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x1045d07d0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/result.py\", line 1485, in scalar_one_or_none\n    return self._only_one_row(\n           │    └ <function ResultInternal._only_one_row at 0x103a220c0>\n           └ <sqlalchemy.engine.result.ChunkedIteratorResult object at 0x1045d07d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/result.py\", line 805, in _only_one_row\n    raise exc.MultipleResultsFound(\n          │   └ <class 'sqlalchemy.exc.MultipleResultsFound'>\n          └ <module 'sqlalchemy.exc' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3....\n\nsqlalchemy.exc.MultipleResultsFound: Multiple rows were found when one or none was required\n", "record": {"elapsed": {"repr": "0:00:00.059686", "seconds": 0.059686}, "exception": {"type": "MultipleResultsFound", "value": "Multiple rows were found when one or none was required", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Multiple rows were found when one or none was required", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7493, "name": "MainProcess"}, "thread": {"id": 6185512960, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:14:04.271704+05:30", "timestamp": 1742539444.271704}}}
{"text": "2025-03-21 12:14:04.515 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.27504706382751465\n", "record": {"elapsed": {"repr": "0:00:00.303158", "seconds": 0.303158}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.27504706382751465", "module": "main", "name": "app.main", "process": {"id": 7493, "name": "MainProcess"}, "thread": {"id": 6185512960, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:14:04.515176+05:30", "timestamp": 1742539444.515176}}}
{"text": "2025-03-21 12:14:04.544 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x100ed9bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x100ed98a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x104587600>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x1016ca480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x104587240>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x104582660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x104584900>\n           │      └ <function Runner.run at 0x101b6a2a0>\n           └ <asyncio.runners.Runner object at 0x104526990>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x101b5fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x104526990>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x101b5fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x101b69c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x101ab2980>\n    └ <Handle <TaskStepMethWrapper object at 0x104528d30>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104528d30>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x104528d30>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x104528d30>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x104763b00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104533290>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104533390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x104763b00>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x104533790>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104533290>\n          └ <function wrap_app_handling_exceptions at 0x102b9fd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1044a05d0>>\n          └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x102bd1300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x104495bc0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x104532d50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x104763d80>\n          └ <function wrap_app_handling_exceptions at 0x102b9fd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ec0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x104763d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x104532d50>\n                     └ <function get_request_handler.<locals>.app at 0x104495b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x102bd0e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x104726f10>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x10324cfe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x104134c20>\n                        └ <app.services.user_service.UserService object at 0x104726f10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x104494f40>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x104724fd0>\n                          └ <app.services.user_service.UserService object at 0x104726f10>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.execute(stmt)\n               │    │          │       └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x104726210>\n               │    │          └ <function AsyncSession.execute at 0x103ec8900>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1047256d0>\n               └ <app.repository.user_repository.UserRespository object at 0x104724fd0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 143, in execute\n    return await super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 463, in execute\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x1034b72e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x10475c100 (otid=0x10459d140) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 127, in execute\n    return super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x103d4d6c0>\n           └ <sqlmodel.orm.session.Session object at 0x104725950>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x103b9ad40>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x1039a9620>\n             └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x1047262...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1039a9940>\n           └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x1039a9b20>\n          └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x1039a9bc0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x1039a9e40>\n    └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x103a74e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x103189210>\n    └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x103ff7100>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1045b4ee0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1045b4ee0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x104482560>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10475c100 (otid=0x10459d140) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x104482560>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104000220>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1045ac5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x103ff7e20>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1045ac5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1045ac5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x104748820>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1045ac5e0>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.332009", "seconds": 0.332009}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7493, "name": "MainProcess"}, "thread": {"id": 6185512960, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:14:04.544027+05:30", "timestamp": 1742539444.544027}}}
{"text": "2025-03-21 12:14:04.763 | ERROR    | app.repository.user_repository:create:38 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$YdmK7CeuqvG3uitiTwVyxeDG8ll4MBH6/3F1RXqzPI//2I17uohZ.', datetime.datetime(2025, 3, 21, 6, 44, 4, 762728), datetime.datetime(2025, 3, 21, 6, 44, 4, 762729))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1045ac5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x104748c80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x1045ac5e0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x103a74e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x103189210>\n    └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$YdmK7CeuqvG3uitiTwVyxeDG8ll4MBH6/3F1RXqzPI//2I17uohZ.', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x103ff7100>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104758d00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104758d00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1045d4b80>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10440ef40 (otid=0x10459d140) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1045d4b80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104000220>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1045ac5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x103ff7e20>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1045ac5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x100ed9bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x100ed98a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x104587600>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6185512960)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x1016ca480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x104587240>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x104582660>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x104584900>\n           │      └ <function Runner.run at 0x101b6a2a0>\n           └ <asyncio.runners.Runner object at 0x104526990>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x101b5fec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x104526990>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x101b5fe20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x101b69c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x101ab2980>\n    └ <Handle <TaskStepMethWrapper object at 0x104528d30>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x104528d30>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x104528d30>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x104528d30>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x104763b00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104533290>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x104533390>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x104763b00>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x104533790>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x104533290>\n          └ <function wrap_app_handling_exceptions at 0x102b9fd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x1044a05d0>>\n          └ <fastapi.routing.APIRouter object at 0x1044a05d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x102bd1300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x104495bc0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ce0>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x104532d50>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x104763d80>\n          └ <function wrap_app_handling_exceptions at 0x102b9fd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x104763ec0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x104763a60>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x104763d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x104532d50>\n                     └ <function get_request_handler.<locals>.app at 0x104495b20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x102bd0e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x104726f10>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x10324cfe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 18, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │       └ <function UserService.register_user at 0x104495080>\n                 └ <app.services.user_service.UserService object at 0x104726f10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │    │         └ <function UserRespository.create at 0x104494fe0>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x104724fd0>\n                 └ <app.services.user_service.UserService object at 0x104726f10>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x103e97ba0>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1047256d0>\n          └ <app.repository.user_repository.UserRespository object at 0x104724fd0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x103d4d260>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x104725950>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x1047256d0>\n          └ <function greenlet_spawn at 0x1034b72e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x10440ef40 (otid=0x10459d140) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x103d4c360>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10473e670>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10473e670>\n                └ <function SessionTransaction.commit at 0x103d4c180>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x103d4c040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10473e670>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x10473e670>\n                └ <function SessionTransaction._prepare_impl at 0x103d47f60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x103d54180>\n    │    └ <sqlmodel.orm.session.Session object at 0x104725950>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x10473e670>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x103d54360>\n    └ <sqlmodel.orm.session.Session object at 0x104725950>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x1049ad680>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x103d44c20>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x10475de50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x10475de50>\n    │   └ <function SaveUpdateAll.execute at 0x103d45760>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x103c78720>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x103ce3ba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x1039a9620>\n             └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x104739150>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x1039a9940>\n           └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x1039a9b20>\n          └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x1039a9bc0>\n           └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x1039a9e40>\n    └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x103a74e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x103189210>\n    └ <sqlalchemy.engine.base.Connection object at 0x1045969d0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$YdmK7CeuqvG3uitiTwVyxeDG8ll4MBH6/3F1RXqzPI//2I17uohZ.', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x103ff7100>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104758d00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x104758d00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1045d4b80>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x10440ef40 (otid=0x10459d140) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x1045d4b80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x104000220>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1045ac5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x103ff7e20>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x1045ac5e0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$YdmK7CeuqvG3uitiTwVyxeDG8ll4MBH6/3F1RXqzPI//2I17uohZ.', datetime.datetime(2025, 3, 21, 6, 44, 4, 762728), datetime.datetime(2025, 3, 21, 6, 44, 4, 762729))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.550987", "seconds": 0.550987}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$YdmK7CeuqvG3uitiTwVyxeDG8ll4MBH6/3F1RXqzPI//2I17uohZ.', datetime.datetime(2025, 3, 21, 6, 44, 4, 762728), datetime.datetime(2025, 3, 21, 6, 44, 4, 762729))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$YdmK7CeuqvG3uitiTwVyxeDG8ll4MBH6/3F1RXqzPI//2I17uohZ.', datetime.datetime(2025, 3, 21, 6, 44, 4, 762728), datetime.datetime(2025, 3, 21, 6, 44, 4, 762729))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7493, "name": "MainProcess"}, "thread": {"id": 6185512960, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:14:04.763005+05:30", "timestamp": 1742539444.763005}}}
{"text": "2025-03-21 12:14:04.768 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22587895393371582\n", "record": {"elapsed": {"repr": "0:00:00.556707", "seconds": 0.556707}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.22587895393371582", "module": "main", "name": "app.main", "process": {"id": 7493, "name": "MainProcess"}, "thread": {"id": 6185512960, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:14:04.768725+05:30", "timestamp": 1742539444.768725}}}
{"text": "2025-03-21 12:15:25.764 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - 'ScalarResult' object has no attribute 'scalar_one_or_none'\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x102d95bc0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x102d958a0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6146633728)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6146633728)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x106a15e40>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x103bf2480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106a15da0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106a9e520>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x106a16020>\n           │      └ <function Runner.run at 0x10407e2a0>\n           └ <asyncio.runners.Runner object at 0x106a54f90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x104073ec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x106a54f90>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x104073e20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x10407dc60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x103fc6980>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 6', True)>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 6', True)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 6', True)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 6', True)>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106aa0fe0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106aa0f40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106a45c50>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106a45b50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106aa0fe0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106aa0f40>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x106a69b90>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x105637050>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106a45c50>\n          └ <function wrap_app_handling_exceptions at 0x1050b3d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106aa0720>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106aa0f40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x105637050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106aa0720>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106aa0f40>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x105637050>>\n          └ <fastapi.routing.APIRouter object at 0x105637050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106aa0720>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106aa0f40>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x1050e5300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106aa0720>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106aa0f40>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x1069aa3e0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106aa0720>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106aa0f40>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x106a69590>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x106aa11c0>\n          └ <function wrap_app_handling_exceptions at 0x1050b3d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106aa1300>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106aa0f40>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x106aa11c0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x106a69590>\n                     └ <function get_request_handler.<locals>.app at 0x1069aa340>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x1050e4e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x106a6ab10>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x105760fe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x106648b80>\n                        └ <app.services.user_service.UserService object at 0x106a6ab10>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x1069a8ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x106a6b110>\n                          └ <app.services.user_service.UserService object at 0x106a6ab10>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 23, in is_email_already_exists\n    return user.scalar_one_or_none()\n           └ <sqlalchemy.engine.result.ScalarResult object at 0x106ad9d60>\n\nAttributeError: 'ScalarResult' object has no attribute 'scalar_one_or_none'\n", "record": {"elapsed": {"repr": "0:00:00.068485", "seconds": 0.068485}, "exception": {"type": "AttributeError", "value": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7525, "name": "MainProcess"}, "thread": {"id": 6146633728, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:15:25.764537+05:30", "timestamp": 1742539525.764537}}}
{"text": "2025-03-21 12:15:26.021 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2930929660797119\n", "record": {"elapsed": {"repr": "0:00:00.325152", "seconds": 0.325152}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2930929660797119", "module": "main", "name": "app.main", "process": {"id": 7525, "name": "MainProcess"}, "thread": {"id": 6146633728, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:15:26.021204+05:30", "timestamp": 1742539526.021204}}}
{"text": "2025-03-21 12:15:26.050 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x102d95bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x102d958a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x106aa3b00>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x103bf2480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106aa09a0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106a9e520>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x106aa31a0>\n           │      └ <function Runner.run at 0x10407e2a0>\n           └ <asyncio.runners.Runner object at 0x106a5d690>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x104073ec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x106a5d690>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x104073e20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x10407dc60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x103fc6980>\n    └ <Handle <TaskStepMethWrapper object at 0x106a3cc10>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x106a3cc10>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x106a3cc10>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x106a3cc10>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106c4f880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106a45c50>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106a45b50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106c4f880>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x106c19110>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x105637050>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106a45c50>\n          └ <function wrap_app_handling_exceptions at 0x1050b3d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x105637050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x105637050>>\n          └ <fastapi.routing.APIRouter object at 0x105637050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x1050e5300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x1069aa3e0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x106c1be10>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x106c4fba0>\n          └ <function wrap_app_handling_exceptions at 0x1050b3d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fce0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x106c4fba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x106c1be10>\n                     └ <function get_request_handler.<locals>.app at 0x1069aa340>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x1050e4e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x106a6ab50>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x105760fe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x106648b80>\n                        └ <app.services.user_service.UserService object at 0x106a6ab50>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x1069a8ea0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x106a39ad0>\n                          └ <app.services.user_service.UserService object at 0x106a6ab50>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 22, in is_email_already_exists\n    user=await self.db_session.exec(stmt)\n               │    │          │    └ <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x106a6bb50>\n               │    │          └ <function AsyncSession.exec at 0x1063dc720>\n               │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x106a39cd0>\n               └ <app.repository.user_repository.UserRespository object at 0x106a39ad0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/ext/asyncio/session.py\", line 81, in exec\n    result = await greenlet_spawn(\n                   └ <function greenlet_spawn at 0x1059cb2e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x106c40cc0 (otid=0x106ab8f60) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlmodel/orm/session.py\", line 66, in exec\n    results = super().execute(\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           │    └ <function Session._execute_internal at 0x1062616c0>\n           └ <sqlmodel.orm.session.Session object at 0x106a3aad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                   │      │                 └ <classmethod(<function AbstractORMCompileState.orm_execute_statement at 0x1060aed40>)>\n                   │      └ <class 'sqlalchemy.orm.context.ORMSelectCompileState'>\n                   └ typing.Any\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             │    └ <function Connection.execute at 0x105ebd620>\n             └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlmodel.sql._expression_select_cls.SelectOfScalar object at 0x106a6bb...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x105ebd940>\n           └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x105ebdb20>\n          └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x105ebdbc0>\n           └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x105ebde40>\n    └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2355, in _handle_dbapi_exception\n    raise exc_info[1].with_traceback(exc_info[2])\n          │                          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n          └ (<class 'RuntimeError'>, RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105f88e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1063ef6d0>\n    └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('alice@example.com',)\n    │      │       └ 'SELECT users.first_name, users.last_name, users.email, users.id, users.password, users.created_at, users.updated_at \\nFROM u...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10650f060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1068ddd20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x1068ddd20>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10698e680>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x106c40cc0 (otid=0x106ab8f60) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x10698e680>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x106514180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106ac44f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10650fd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106ac44f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 794, in _handle_exception\n    raise error\n          └ RuntimeError(\"Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106ac44f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'BEGIN;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x106c29850>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'BEGIN;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x106ac44f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 375, in query\n    return await waiter\n\nRuntimeError: Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop\n", "record": {"elapsed": {"repr": "0:00:00.354917", "seconds": 0.354917}, "exception": {"type": "RuntimeError", "value": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "Task <Task pending name='starlette.middleware.base.BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro' coro=<BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.coro() running at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py:140> cb=[TaskGroup._spawn.<locals>.task_done() at /Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py:794]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7525, "name": "MainProcess"}, "thread": {"id": 6146633728, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:15:26.050969+05:30", "timestamp": 1742539526.050969}}}
{"text": "2025-03-21 12:15:26.278 | ERROR    | app.repository.user_repository:create:38 - (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$YysKzvtHzlg2SPW0JMjHNu0/ruaMJw581.NP.6YYXbLprCrKOpV4K', datetime.datetime(2025, 3, 21, 6, 45, 26, 277716), datetime.datetime(2025, 3, 21, 6, 45, 26, 277719))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 843, in _start_transaction\n    await self._transaction.start()\n          │    └ <member '_transaction' of 'AsyncAdapt_asyncpg_connection' objects>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106ac44f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/transaction.py\", line 146, in start\n    await self._connection.execute(query)\n          │    │                   └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n          │    └ <member '_connection' of 'Transaction' objects>\n          └ <asyncpg.Transaction state:failed 0x106c29cb0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/asyncpg/connection.py\", line 349, in execute\n    result = await self._protocol.query(query, timeout)\n                   │    │               │      └ None\n                   │    │               └ 'SAVEPOINT __asyncpg_savepoint_a__;'\n                   │    └ <member '_protocol' of 'Connection' objects>\n                   └ <asyncpg.connection.Connection object at 0x106ac44f0>\n  File \"asyncpg/protocol/protocol.pyx\", line 360, in query\n    self._check_state()\n  File \"asyncpg/protocol/protocol.pyx\", line 745, in asyncpg.protocol.protocol.BaseProtocol._check_state\n    raise apg_exc.InterfaceError(\n          │       └ <class 'asyncpg.exceptions._base.InterfaceError'>\n          └ <module 'asyncpg.exceptions' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/pyth...\n\nasyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105f88e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1063ef6d0>\n    └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$YysKzvtHzlg2SPW0JMjHNu0/ruaMJw581.NP.6YYXbLprCrKOpV4K', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10650f060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106c2e080>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106c2e080>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106ae8dc0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x106c43f40 (otid=0x106ab8f60) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106ae8dc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x106514180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106ac44f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10650fd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106ac44f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x102d95bc0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x102d958a0>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x106aa3b00>\n    └ <Thread(Thread-3 (run_blocking_portal), started daemon 6146633728)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x103bf2480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x106aa09a0>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106a9e520>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x106aa31a0>\n           │      └ <function Runner.run at 0x10407e2a0>\n           └ <asyncio.runners.Runner object at 0x106a5d690>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x104073ec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x106a5d690>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x104073e20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x10407dc60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x103fc6980>\n    └ <Handle <TaskStepMethWrapper object at 0x106a3cc10>()>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x106a3cc10>()>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle <TaskStepMethWrapper object at 0x106a3cc10>()>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle <TaskStepMethWrapper object at 0x106a3cc10>()>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106c4f880>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106a45c50>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106a45b50>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x106c4f880>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x106c19110>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x105637050>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x106a45c50>\n          └ <function wrap_app_handling_exceptions at 0x1050b3d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x105637050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x105637050>>\n          └ <fastapi.routing.APIRouter object at 0x105637050>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x1050e5300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x1069aa3e0>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fb00>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x106c1be10>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x106c4fba0>\n          └ <function wrap_app_handling_exceptions at 0x1050b3d80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106c4fce0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106c4f7e0>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x106c4fba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x106c1be10>\n                     └ <function get_request_handler.<locals>.app at 0x1069aa340>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x1050e4e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x106a6ab50>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x105760fe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 18, in create_users\n    return await service.register_user(user)\n                 │       │             └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │       └ <function UserService.register_user at 0x1069a8fe0>\n                 └ <app.services.user_service.UserService object at 0x106a6ab50>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 21, in register_user\n    result=await self.user_repo.create(create_user=create_user)\n                 │    │         │                  └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                 │    │         └ <function UserRespository.create at 0x1069a8f40>\n                 │    └ <app.repository.user_repository.UserRespository object at 0x106a39ad0>\n                 └ <app.services.user_service.UserService object at 0x106a6ab50>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 34, in create\n    await self.db_session.commit()\n          │    │          └ <function AsyncSession.commit at 0x1063abba0>\n          │    └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x106a39cd0>\n          └ <app.repository.user_repository.UserRespository object at 0x106a39ad0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/session.py\", line 1011, in commit\n    await greenlet_spawn(self.sync_session.commit)\n          │              │    │            └ <function Session.commit at 0x106261260>\n          │              │    └ <sqlmodel.orm.session.Session object at 0x106a3aad0>\n          │              └ <sqlmodel.ext.asyncio.session.AsyncSession object at 0x106a39cd0>\n          └ <function greenlet_spawn at 0x1059cb2e0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 201, in greenlet_spawn\n    result = context.throw(*sys.exc_info())\n             │       │      │   └ <built-in function exc_info>\n             │       │      └ <module 'sys' (built-in)>\n             │       └ <method 'throw' of 'greenlet.greenlet' objects>\n             └ <_AsyncIoGreenlet object at 0x106c43f40 (otid=0x106ab8f60) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2032, in commit\n    trans.commit(_to_root=True)\n    │     └ <function SessionTransaction.commit at 0x106260360>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106c25d60>\n  File \"<string>\", line 2, in commit\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {'_to_root': True}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x106c25d60>\n                └ <function SessionTransaction.commit at 0x106260180>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1313, in commit\n    self._prepare_impl()\n    │    └ <function SessionTransaction._prepare_impl at 0x106260040>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106c25d60>\n  File \"<string>\", line 2, in _prepare_impl\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py\", line 139, in _go\n    ret_value = fn(self, *arg, **kw)\n                │  │      │      └ {}\n                │  │      └ ()\n                │  └ <sqlalchemy.orm.session.SessionTransaction object at 0x106c25d60>\n                └ <function SessionTransaction._prepare_impl at 0x10625bf60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 1288, in _prepare_impl\n    self.session.flush()\n    │    │       └ <function Session.flush at 0x106268180>\n    │    └ <sqlmodel.orm.session.Session object at 0x106a3aad0>\n    └ <sqlalchemy.orm.session.SessionTransaction object at 0x106c25d60>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4353, in flush\n    self._flush(objects)\n    │    │      └ None\n    │    └ <function Session._flush at 0x106268360>\n    └ <sqlmodel.orm.session.Session object at 0x106a3aad0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4488, in _flush\n    with util.safe_reraise():\n         │    └ <class 'sqlalchemy.util.langhelpers.safe_reraise'>\n         └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py\", line 146, in __exit__\n    raise exc_value.with_traceback(exc_tb)\n          │         │              └ <traceback object at 0x106e74c40>\n          │         └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 4449, in _flush\n    flush_context.execute()\n    │             └ <function UOWTransaction.execute at 0x106258c20>\n    └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x106e37510>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 466, in execute\n    rec.execute(self)\n    │   │       └ <sqlalchemy.orm.unitofwork.UOWTransaction object at 0x106e37510>\n    │   └ <function SaveUpdateAll.execute at 0x106259760>\n    └ SaveUpdateAll(Mapper[Users(users)])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py\", line 642, in execute\n    util.preloaded.orm_persistence.save_obj(\n    │    │         │               └ <function save_obj at 0x10618c720>\n    │    │         └ <module 'sqlalchemy.orm.persistence' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/...\n    │    └ <module 'sqlalchemy.util.preloaded' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/l...\n    └ <module 'sqlalchemy.util' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 93, in save_obj\n    _emit_insert_statements(\n    └ <function _emit_insert_statements at 0x1061f7ba0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py\", line 1233, in _emit_insert_statements\n    result = connection.execute(\n             │          └ <function Connection.execute at 0x105ebd620>\n             └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           └ <bound method ClauseElement._execute_on_connection of <sqlalchemy.sql.dml.Insert object at 0x106c184d0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           │          └ <function Connection._execute_clauseelement at 0x105ebd940>\n           └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          │    └ <function Connection._execute_context at 0x105ebdb20>\n          └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           │    └ <function Connection._exec_single_context at 0x105ebdbc0>\n           └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n    │    └ <function Connection._handle_dbapi_exception at 0x105ebde40>\n    └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n          │                    │              │                 └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n          │                    │              └ (<class 'sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError'>, InterfaceError(\"<class 'asyncpg.ex...\n          │                    └ <method 'with_traceback' of 'BaseException' objects>\n          └ InterfaceError(\"(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: ca...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n    │    │       └ <function DefaultDialect.do_execute at 0x105f88e00>\n    │    └ <sqlalchemy.dialects.postgresql.asyncpg.PGDialect_asyncpg object at 0x1063ef6d0>\n    └ <sqlalchemy.engine.base.Connection object at 0x106a6b150>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 942, in do_execute\n    cursor.execute(statement, parameters)\n    │      │       │          └ ('Alice', 'Smith', 'alice@example.com', '$2b$12$YysKzvtHzlg2SPW0JMjHNu0/ruaMJw581.NP.6YYXbLprCrKOpV4K', datetime.datetime(202...\n    │      │       └ 'INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VAR...\n    │      └ <function AsyncAdapt_asyncpg_cursor.execute at 0x10650f060>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106c2e080>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 580, in execute\n    self._adapt_connection.await_(\n    │    └ <member '_adapt_connection' of 'AsyncAdapt_asyncpg_cursor' objects>\n    └ <sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_cursor object at 0x106c2e080>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 132, in await_only\n    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501\n           │       │             └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106ae8dc0>\n           │       └ <attribute 'parent' of 'greenlet.greenlet' objects>\n           └ <_AsyncIoGreenlet object at 0x106c43f40 (otid=0x106ab8f60) dead>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py\", line 196, in greenlet_spawn\n    value = await result\n                  └ <coroutine object AsyncAdapt_asyncpg_cursor._prepare_and_execute at 0x106ae8dc0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 515, in _prepare_and_execute\n    await adapt_connection._start_transaction()\n          │                └ <function AsyncAdapt_asyncpg_connection._start_transaction at 0x106514180>\n          └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106ac44f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 845, in _start_transaction\n    self._handle_exception(error)\n    │    └ <function AsyncAdapt_asyncpg_connection._handle_exception at 0x10650fd80>\n    └ <AdaptedConnection <asyncpg.connection.Connection object at 0x106ac44f0>>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py\", line 792, in _handle_exception\n    raise translated_error from error\n          │                     └ InterfaceError('cannot perform operation: another operation is in progress')\n          └ InterfaceError(\"<class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\")\n\nsqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$YysKzvtHzlg2SPW0JMjHNu0/ruaMJw581.NP.6YYXbLprCrKOpV4K', datetime.datetime(2025, 3, 21, 6, 45, 26, 277716), datetime.datetime(2025, 3, 21, 6, 45, 26, 277719))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)\n", "record": {"elapsed": {"repr": "0:00:00.582070", "seconds": 0.58207}, "exception": {"type": "InterfaceError", "value": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$YysKzvtHzlg2SPW0JMjHNu0/ruaMJw581.NP.6YYXbLprCrKOpV4K', datetime.datetime(2025, 3, 21, 6, 45, 26, 277716), datetime.datetime(2025, 3, 21, 6, 45, 26, 277719))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "create", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 38, "message": "(sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress\n[SQL: INSERT INTO users (first_name, last_name, email, password, created_at, updated_at) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::TIMESTAMP WITHOUT TIME ZONE, $6::TIMESTAMP WITHOUT TIME ZONE) RETURNING users.id]\n[parameters: ('Alice', 'Smith', 'alice@example.com', '$2b$12$YysKzvtHzlg2SPW0JMjHNu0/ruaMJw581.NP.6YYXbLprCrKOpV4K', datetime.datetime(2025, 3, 21, 6, 45, 26, 277716), datetime.datetime(2025, 3, 21, 6, 45, 26, 277719))]\n(Background on this error at: https://sqlalche.me/e/20/rvf5)", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7525, "name": "MainProcess"}, "thread": {"id": 6146633728, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:15:26.278122+05:30", "timestamp": 1742539526.278122}}}
{"text": "2025-03-21 12:15:26.287 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2373969554901123\n", "record": {"elapsed": {"repr": "0:00:00.591110", "seconds": 0.59111}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2373969554901123", "module": "main", "name": "app.main", "process": {"id": 7525, "name": "MainProcess"}, "thread": {"id": 6146633728, "name": "Thread-3 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:15:26.287162+05:30", "timestamp": 1742539526.287162}}}
{"text": "2025-03-21 12:16:08.788 | ERROR    | app.repository.user_repository:is_email_already_exists:25 - 'ScalarResult' object has no attribute 'scalar_one_or_none'\nTraceback (most recent call last):\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1002, in _bootstrap\n    self._bootstrap_inner()\n    │    └ <function Thread._bootstrap_inner at 0x102b55bc0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6154481664)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 1045, in _bootstrap_inner\n    self.run()\n    │    └ <function Thread.run at 0x102b558a0>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6154481664)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/threading.py\", line 982, in run\n    self._target(*self._args, **self._kwargs)\n    │    │        │    │        │    └ {}\n    │    │        │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6154481664)>\n    │    │        │    └ ()\n    │    │        └ <Thread(Thread-1 (run_blocking_portal), started daemon 6154481664)>\n    │    └ <function start_blocking_portal.<locals>.run_blocking_portal at 0x1062ae020>\n    └ <Thread(Thread-1 (run_blocking_portal), started daemon 6154481664)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/from_thread.py\", line 481, in run_blocking_portal\n    _eventloop.run(\n    │          └ <function run at 0x10345a480>\n    └ <module 'anyio._core._eventloop' from '/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/...\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_core/_eventloop.py\", line 74, in run\n    return async_backend.run(func, args, {}, backend_options)\n           │             │   │     │         └ {}\n           │             │   │     └ ()\n           │             │   └ <function start_blocking_portal.<locals>.run_portal at 0x1062adf80>\n           │             └ <classmethod(<function AsyncIOBackend.run at 0x106336700>)>\n           └ <class 'anyio._backends._asyncio.AsyncIOBackend'>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/anyio/_backends/_asyncio.py\", line 2310, in run\n    return runner.run(wrapper())\n           │      │   └ <function start_blocking_portal.<locals>.run_portal at 0x1062ae200>\n           │      └ <function Runner.run at 0x1039162a0>\n           └ <asyncio.runners.Runner object at 0x1062ecd10>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           │    │     │                  └ <Task pending name='anyio.from_thread.start_blocking_portal.<locals>.run_portal' coro=<start_blocking_portal.<locals>.run_por...\n           │    │     └ <function BaseEventLoop.run_until_complete at 0x10390bec0>\n           │    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n           └ <asyncio.runners.Runner object at 0x1062ecd10>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 641, in run_until_complete\n    self.run_forever()\n    │    └ <function BaseEventLoop.run_forever at 0x10390be20>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 608, in run_forever\n    self._run_once()\n    │    └ <function BaseEventLoop._run_once at 0x103915c60>\n    └ <_UnixSelectorEventLoop running=True closed=False debug=False>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/base_events.py\", line 1936, in _run_once\n    handle._run()\n    │      └ <function Handle._run at 0x10385e980>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 7', True)>)>\n\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.11/Frameworks/Python.framework/Versions/3.11/lib/python3.11/asyncio/events.py\", line 84, in _run\n    self._context.run(self._callback, *self._args)\n    │    │            │    │           │    └ <member '_args' of 'Handle' objects>\n    │    │            │    │           └ <Handle Task.task_wakeup(<Future finis...ECT 7', True)>)>\n    │    │            │    └ <member '_callback' of 'Handle' objects>\n    │    │            └ <Handle Task.task_wakeup(<Future finis...ECT 7', True)>)>\n    │    └ <member '_context' of 'Handle' objects>\n    └ <Handle Task.task_wakeup(<Future finis...ECT 7', True)>)>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/base.py\", line 140, in coro\n    await self.app(scope, receive_or_disconnect, send_no_error)\n          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1063391c0>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106339120>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1062d8310>\n          └ <starlette.middleware.base.BaseHTTPMiddleware object at 0x106252890>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/middleware/exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n          │                            │    │    │     │      │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x1063391c0>\n          │                            │    │    │     │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106339120>\n          │                            │    │    │     └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    │    └ <starlette.requests.Request object at 0x106301790>\n          │                            │    └ <fastapi.routing.APIRouter object at 0x106248d90>\n          │                            └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x1062d8310>\n          └ <function wrap_app_handling_exceptions at 0x10494bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106338040>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106339120>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <fastapi.routing.APIRouter object at 0x106248d90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 714, in __call__\n    await self.middleware_stack(scope, receive, send)\n          │    │                │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106338040>\n          │    │                │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106339120>\n          │    │                └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <bound method Router.app of <fastapi.routing.APIRouter object at 0x106248d90>>\n          └ <fastapi.routing.APIRouter object at 0x106248d90>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 734, in app\n    await route.handle(scope, receive, send)\n          │     │      │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106338040>\n          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106339120>\n          │     │      └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │     └ <function Route.handle at 0x104981300>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n          │    │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106338040>\n          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106339120>\n          │    │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │    └ <function request_response.<locals>.app at 0x10623e520>\n          └ APIRoute(path='/v1/users/register', name='create_users', methods=['POST'])\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n          │                            │    │        │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x106338040>\n          │                            │    │        │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106339120>\n          │                            │    │        └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          │                            │    └ <starlette.requests.Request object at 0x106301310>\n          │                            └ <function request_response.<locals>.app.<locals>.app at 0x1063393a0>\n          └ <function wrap_app_handling_exceptions at 0x10494bd80>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n          │   │      │        └ <function wrap_app_handling_exceptions.<locals>.wrapped_app.<locals>.sender at 0x1063394e0>\n          │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x106339120>\n          │   └ {'type': 'http', 'http_version': '1.1', 'method': 'POST', 'path': '/v1/users/register', 'raw_path': b'/v1/users/register', 'r...\n          └ <function request_response.<locals>.app.<locals>.app at 0x1063393a0>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/starlette/routing.py\", line 73, in app\n    response = await f(request)\n                     │ └ <starlette.requests.Request object at 0x106301310>\n                     └ <function get_request_handler.<locals>.app at 0x10623e480>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                         └ <function run_endpoint_function at 0x104980e00>\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/.venv/lib/python3.11/site-packages/fastapi/routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n                 │         │      └ {'service': <app.services.user_service.UserService object at 0x1062542d0>, 'user': UserCreate(first_name='Alice', last_name='...\n                 │         └ <function create_users at 0x104ff8fe0>\n                 └ Dependant(path_params=[], query_params=[], header_params=[], cookie_params=[], body_params=[ModelField(field_info=Body(Pydant...\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/api/v1/endpoints/users.py\", line 15, in create_users\n    email_taken = await service.is_email_taken(user.email)\n                        │       │              │    └ 'alice@example.com'\n                        │       │              └ UserCreate(first_name='Alice', last_name='Smith', email='alice@example.com', password='SecurePass123', created_at=None, updat...\n                        │       └ <function UserService.is_email_taken at 0x105ee0cc0>\n                        └ <app.services.user_service.UserService object at 0x1062542d0>\n\n  File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/services/user_service.py\", line 11, in is_email_taken\n    existing_user = await self.user_repo.is_email_already_exists(email)\n                          │    │         │                       └ 'alice@example.com'\n                          │    │         └ <function UserRespository.is_email_already_exists at 0x10623cfe0>\n                          │    └ <app.repository.user_repository.UserRespository object at 0x106302dd0>\n                          └ <app.services.user_service.UserService object at 0x1062542d0>\n\n> File \"/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py\", line 23, in is_email_already_exists\n    return user.scalar_one_or_none()\n           └ <sqlalchemy.engine.result.ScalarResult object at 0x106370640>\n\nAttributeError: 'ScalarResult' object has no attribute 'scalar_one_or_none'\n", "record": {"elapsed": {"repr": "0:00:00.065205", "seconds": 0.065205}, "exception": {"type": "AttributeError", "value": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "traceback": true}, "extra": {}, "file": {"name": "user_repository.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/repository/user_repository.py"}, "function": "is_email_already_exists", "level": {"icon": "❌", "name": "ERROR", "no": 40}, "line": 25, "message": "'ScalarResult' object has no attribute 'scalar_one_or_none'", "module": "user_repository", "name": "app.repository.user_repository", "process": {"id": 7549, "name": "MainProcess"}, "thread": {"id": 6154481664, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:16:08.788687+05:30", "timestamp": 1742539568.788687}}}
{"text": "2025-03-21 12:16:09.035 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.28040385246276855\n", "record": {"elapsed": {"repr": "0:00:00.311778", "seconds": 0.311778}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.28040385246276855", "module": "main", "name": "app.main", "process": {"id": 7549, "name": "MainProcess"}, "thread": {"id": 6154481664, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:16:09.035260+05:30", "timestamp": 1742539569.03526}}}
{"text": "2025-03-21 12:16:28.416 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.032649993896484375\n", "record": {"elapsed": {"repr": "0:00:00.060393", "seconds": 0.060393}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.032649993896484375", "module": "main", "name": "app.main", "process": {"id": 7573, "name": "MainProcess"}, "thread": {"id": 6152400896, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:16:28.416797+05:30", "timestamp": 1742539588.416797}}}
{"text": "2025-03-21 12:16:49.988 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.27359700202941895\n", "record": {"elapsed": {"repr": "0:00:00.302342", "seconds": 0.302342}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.27359700202941895", "module": "main", "name": "app.main", "process": {"id": 7604, "name": "MainProcess"}, "thread": {"id": 6143963136, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:16:49.988252+05:30", "timestamp": 1742539609.988252}}}
{"text": "2025-03-21 12:17:53.795 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03513503074645996\n", "record": {"elapsed": {"repr": "0:00:00.064853", "seconds": 0.064853}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03513503074645996", "module": "main", "name": "app.main", "process": {"id": 7629, "name": "MainProcess"}, "thread": {"id": 6175764480, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:17:53.795789+05:30", "timestamp": 1742539673.795789}}}
{"text": "2025-03-21 12:18:54.945 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2768862247467041\n", "record": {"elapsed": {"repr": "0:00:00.309437", "seconds": 0.309437}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2768862247467041", "module": "main", "name": "app.main", "process": {"id": 7654, "name": "MainProcess"}, "thread": {"id": 6146584576, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:18:54.945296+05:30", "timestamp": 1742539734.945296}}}
{"text": "2025-03-21 12:28:44.027 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.039003849029541016\n", "record": {"elapsed": {"repr": "0:00:00.071505", "seconds": 0.071505}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.039003849029541016", "module": "main", "name": "app.main", "process": {"id": 7759, "name": "MainProcess"}, "thread": {"id": 6114832384, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:28:44.027281+05:30", "timestamp": 1742540324.027281}}}
{"text": "2025-03-21 12:28:56.319 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2767369747161865\n", "record": {"elapsed": {"repr": "0:00:00.308450", "seconds": 0.30845}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2767369747161865", "module": "main", "name": "app.main", "process": {"id": 7781, "name": "MainProcess"}, "thread": {"id": 6112735232, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 12:28:56.319494+05:30", "timestamp": 1742540336.319494}}}
{"text": "2025-03-21 13:03:16.754 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03734922409057617\n", "record": {"elapsed": {"repr": "0:00:00.071734", "seconds": 0.071734}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03734922409057617", "module": "main", "name": "app.main", "process": {"id": 8242, "name": "MainProcess"}, "thread": {"id": 6113964032, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:03:16.754242+05:30", "timestamp": 1742542396.754242}}}
{"text": "2025-03-21 13:04:52.732 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.05871176719665527\n", "record": {"elapsed": {"repr": "0:00:05.532200", "seconds": 5.5322}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.05871176719665527", "module": "main", "name": "app.main", "process": {"id": 8734, "name": "SpawnProcess-1"}, "thread": {"id": 8631060544, "name": "MainThread"}, "time": {"repr": "2025-03-21 13:04:52.732912+05:30", "timestamp": 1742542492.732912}}}
{"text": "2025-03-21 13:16:05.430 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.0534977912902832\n", "record": {"elapsed": {"repr": "0:00:07.629965", "seconds": 7.629965}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.0534977912902832", "module": "main", "name": "app.main", "process": {"id": 8853, "name": "SpawnProcess-4"}, "thread": {"id": 8631060544, "name": "MainThread"}, "time": {"repr": "2025-03-21 13:16:05.430778+05:30", "timestamp": 1742543165.430778}}}
{"text": "2025-03-21 13:16:48.589 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.29351305961608887\n", "record": {"elapsed": {"repr": "0:00:06.099593", "seconds": 6.099593}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.29351305961608887", "module": "main", "name": "app.main", "process": {"id": 8873, "name": "SpawnProcess-5"}, "thread": {"id": 8631060544, "name": "MainThread"}, "time": {"repr": "2025-03-21 13:16:48.589649+05:30", "timestamp": 1742543208.589649}}}
{"text": "2025-03-21 13:17:03.224 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03598308563232422\n", "record": {"elapsed": {"repr": "0:00:00.069158", "seconds": 0.069158}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03598308563232422", "module": "main", "name": "app.main", "process": {"id": 8890, "name": "MainProcess"}, "thread": {"id": 6153728000, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:17:03.224047+05:30", "timestamp": 1742543223.224047}}}
{"text": "2025-03-21 13:19:32.319 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.035080909729003906\n", "record": {"elapsed": {"repr": "0:00:00.068163", "seconds": 0.068163}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.035080909729003906", "module": "main", "name": "app.main", "process": {"id": 8934, "name": "MainProcess"}, "thread": {"id": 6145454080, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:19:32.319150+05:30", "timestamp": 1742543372.31915}}}
{"text": "2025-03-21 13:21:10.409 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03308296203613281\n", "record": {"elapsed": {"repr": "0:00:00.066063", "seconds": 0.066063}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03308296203613281", "module": "main", "name": "app.main", "process": {"id": 8984, "name": "MainProcess"}, "thread": {"id": 6147682304, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:21:10.409541+05:30", "timestamp": 1742543470.409541}}}
{"text": "2025-03-21 13:22:56.024 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.038594961166381836\n", "record": {"elapsed": {"repr": "0:00:00.075010", "seconds": 0.07501}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.038594961166381836", "module": "main", "name": "app.main", "process": {"id": 9050, "name": "MainProcess"}, "thread": {"id": 6173847552, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:22:56.024692+05:30", "timestamp": 1742543576.024692}}}
{"text": "2025-03-21 13:24:48.869 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03407621383666992\n", "record": {"elapsed": {"repr": "0:00:00.067839", "seconds": 0.067839}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03407621383666992", "module": "main", "name": "app.main", "process": {"id": 9106, "name": "MainProcess"}, "thread": {"id": 6144831488, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:24:48.869161+05:30", "timestamp": 1742543688.869161}}}
{"text": "2025-03-21 13:26:12.630 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.032557010650634766\n", "record": {"elapsed": {"repr": "0:00:00.059942", "seconds": 0.059942}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.032557010650634766", "module": "main", "name": "app.main", "process": {"id": 9139, "name": "MainProcess"}, "thread": {"id": 6117617664, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:26:12.630005+05:30", "timestamp": 1742543772.630005}}}
{"text": "2025-03-21 13:26:18.244 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03232169151306152\n", "record": {"elapsed": {"repr": "0:00:00.060626", "seconds": 0.060626}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.03232169151306152", "module": "main", "name": "app.main", "process": {"id": 9157, "name": "MainProcess"}, "thread": {"id": 6184038400, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:26:18.244775+05:30", "timestamp": 1742543778.244775}}}
{"text": "2025-03-21 13:27:40.126 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.032755136489868164\n", "record": {"elapsed": {"repr": "0:00:00.061624", "seconds": 0.061624}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.032755136489868164", "module": "main", "name": "app.main", "process": {"id": 9189, "name": "MainProcess"}, "thread": {"id": 6117486592, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:27:40.126120+05:30", "timestamp": 1742543860.12612}}}
{"text": "2025-03-21 13:28:00.651 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.031720876693725586\n", "record": {"elapsed": {"repr": "0:00:00.060419", "seconds": 0.060419}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.031720876693725586", "module": "main", "name": "app.main", "process": {"id": 9213, "name": "MainProcess"}, "thread": {"id": 6179368960, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:28:00.651197+05:30", "timestamp": 1742543880.651197}}}
{"text": "2025-03-21 13:28:27.014 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.034178972244262695\n", "record": {"elapsed": {"repr": "0:00:00.063250", "seconds": 0.06325}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.034178972244262695", "module": "main", "name": "app.main", "process": {"id": 9242, "name": "MainProcess"}, "thread": {"id": 6105214976, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:28:27.014198+05:30", "timestamp": 1742543907.014198}}}
{"text": "2025-03-21 13:29:11.722 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.032655954360961914\n", "record": {"elapsed": {"repr": "0:00:00.061002", "seconds": 0.061002}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.032655954360961914", "module": "main", "name": "app.main", "process": {"id": 9273, "name": "MainProcess"}, "thread": {"id": 6183432192, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:29:11.722986+05:30", "timestamp": 1742543951.722986}}}
{"text": "2025-03-21 13:29:45.861 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03677988052368164\n", "record": {"elapsed": {"repr": "0:00:00.070010", "seconds": 0.07001}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03677988052368164", "module": "main", "name": "app.main", "process": {"id": 9303, "name": "MainProcess"}, "thread": {"id": 6142029824, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:29:45.861827+05:30", "timestamp": 1742543985.861827}}}
{"text": "2025-03-21 13:29:56.346 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.030373096466064453\n", "record": {"elapsed": {"repr": "0:00:00.059369", "seconds": 0.059369}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.030373096466064453", "module": "main", "name": "app.main", "process": {"id": 9330, "name": "MainProcess"}, "thread": {"id": 6110113792, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:29:56.346289+05:30", "timestamp": 1742543996.346289}}}
{"text": "2025-03-21 13:30:15.354 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03400397300720215\n", "record": {"elapsed": {"repr": "0:00:00.062715", "seconds": 0.062715}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03400397300720215", "module": "main", "name": "app.main", "process": {"id": 9365, "name": "MainProcess"}, "thread": {"id": 6117617664, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:30:15.354082+05:30", "timestamp": 1742544015.354082}}}
{"text": "2025-03-21 13:30:36.389 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.051364898681640625\n", "record": {"elapsed": {"repr": "0:00:22.903577", "seconds": 22.903577}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.051364898681640625", "module": "main", "name": "app.main", "process": {"id": 9358, "name": "SpawnProcess-23"}, "thread": {"id": 8631060544, "name": "MainThread"}, "time": {"repr": "2025-03-21 13:30:36.389130+05:30", "timestamp": 1742544036.38913}}}
{"text": "2025-03-21 13:30:41.793 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2812330722808838\n", "record": {"elapsed": {"repr": "0:00:28.307820", "seconds": 28.30782}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2812330722808838", "module": "main", "name": "app.main", "process": {"id": 9358, "name": "SpawnProcess-23"}, "thread": {"id": 8631060544, "name": "MainThread"}, "time": {"repr": "2025-03-21 13:30:41.793373+05:30", "timestamp": 1742544041.793373}}}
{"text": "2025-03-21 13:32:53.947 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.0354619026184082\n", "record": {"elapsed": {"repr": "0:00:00.067989", "seconds": 0.067989}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.0354619026184082", "module": "main", "name": "app.main", "process": {"id": 9420, "name": "MainProcess"}, "thread": {"id": 6177107968, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:32:53.947183+05:30", "timestamp": 1742544173.947183}}}
{"text": "2025-03-21 13:32:54.187 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2396547794342041\n", "record": {"elapsed": {"repr": "0:00:00.308620", "seconds": 0.30862}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2396547794342041", "module": "main", "name": "app.main", "process": {"id": 9420, "name": "MainProcess"}, "thread": {"id": 6177107968, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:32:54.187814+05:30", "timestamp": 1742544174.187814}}}
{"text": "2025-03-21 13:33:41.089 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.032468318939208984\n", "record": {"elapsed": {"repr": "0:00:00.062107", "seconds": 0.062107}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.032468318939208984", "module": "main", "name": "app.main", "process": {"id": 9448, "name": "MainProcess"}, "thread": {"id": 6183759872, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:33:41.089422+05:30", "timestamp": 1742544221.089422}}}
{"text": "2025-03-21 13:34:04.735 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03132796287536621\n", "record": {"elapsed": {"repr": "0:00:00.060051", "seconds": 0.060051}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03132796287536621", "module": "main", "name": "app.main", "process": {"id": 9478, "name": "MainProcess"}, "thread": {"id": 6119174144, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:34:04.735563+05:30", "timestamp": 1742544244.735563}}}
{"text": "2025-03-21 13:34:04.738 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.0016379356384277344\n", "record": {"elapsed": {"repr": "0:00:00.062681", "seconds": 0.062681}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.0016379356384277344", "module": "main", "name": "app.main", "process": {"id": 9478, "name": "MainProcess"}, "thread": {"id": 6119174144, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:34:04.738193+05:30", "timestamp": 1742544244.738193}}}
{"text": "2025-03-21 13:34:28.828 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.033557891845703125\n", "record": {"elapsed": {"repr": "0:00:00.066042", "seconds": 0.066042}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.033557891845703125", "module": "main", "name": "app.main", "process": {"id": 9517, "name": "MainProcess"}, "thread": {"id": 6144585728, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:34:28.828143+05:30", "timestamp": 1742544268.828143}}}
{"text": "2025-03-21 13:34:29.071 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.24285483360290527\n", "record": {"elapsed": {"repr": "0:00:00.309747", "seconds": 0.309747}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.24285483360290527", "module": "main", "name": "app.main", "process": {"id": 9517, "name": "MainProcess"}, "thread": {"id": 6144585728, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:34:29.071848+05:30", "timestamp": 1742544269.071848}}}
{"text": "2025-03-21 13:38:57.841 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03368091583251953\n", "record": {"elapsed": {"repr": "0:00:00.065765", "seconds": 0.065765}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03368091583251953", "module": "main", "name": "app.main", "process": {"id": 9587, "name": "MainProcess"}, "thread": {"id": 6173683712, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:38:57.841364+05:30", "timestamp": 1742544537.841364}}}
{"text": "2025-03-21 13:39:15.819 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03313302993774414\n", "record": {"elapsed": {"repr": "0:00:00.064486", "seconds": 0.064486}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03313302993774414", "module": "main", "name": "app.main", "process": {"id": 9615, "name": "MainProcess"}, "thread": {"id": 6176337920, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:39:15.819148+05:30", "timestamp": 1742544555.819148}}}
{"text": "2025-03-21 13:39:15.821 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.0014369487762451172\n", "record": {"elapsed": {"repr": "0:00:00.066767", "seconds": 0.066767}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.0014369487762451172", "module": "main", "name": "app.main", "process": {"id": 9615, "name": "MainProcess"}, "thread": {"id": 6176337920, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:39:15.821429+05:30", "timestamp": 1742544555.821429}}}
{"text": "2025-03-21 13:39:31.971 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.04209303855895996\n", "record": {"elapsed": {"repr": "0:00:00.077099", "seconds": 0.077099}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.04209303855895996", "module": "main", "name": "app.main", "process": {"id": 9643, "name": "MainProcess"}, "thread": {"id": 6147796992, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:39:31.971306+05:30", "timestamp": 1742544571.971306}}}
{"text": "2025-03-21 13:39:32.213 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2413771152496338\n", "record": {"elapsed": {"repr": "0:00:00.319378", "seconds": 0.319378}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.2413771152496338", "module": "main", "name": "app.main", "process": {"id": 9643, "name": "MainProcess"}, "thread": {"id": 6147796992, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:39:32.213585+05:30", "timestamp": 1742544572.213585}}}
{"text": "2025-03-21 13:40:48.127 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03133583068847656\n", "record": {"elapsed": {"repr": "0:00:00.061256", "seconds": 0.061256}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 400 | Time 0.03133583068847656", "module": "main", "name": "app.main", "process": {"id": 9687, "name": "MainProcess"}, "thread": {"id": 6171979776, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:40:48.127896+05:30", "timestamp": 1742544648.127896}}}
{"text": "2025-03-21 13:40:48.368 | INFO     | app.main:log_requests:18 - Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23981213569641113\n", "record": {"elapsed": {"repr": "0:00:00.301842", "seconds": 0.301842}, "exception": null, "extra": {}, "file": {"name": "main.py", "path": "/Users/sekarmariappan/Documents/VS_Projects/upskill-hub/upskill-hub-backend/app/main.py"}, "function": "log_requests", "level": {"icon": "ℹ️", "name": "INFO", "no": 20}, "line": 18, "message": "Method: POST| Path: /v1/users/register |Response: 201 | Time 0.23981213569641113", "module": "main", "name": "app.main", "process": {"id": 9687, "name": "MainProcess"}, "thread": {"id": 6171979776, "name": "Thread-1 (run_blocking_portal)"}, "time": {"repr": "2025-03-21 13:40:48.368482+05:30", "timestamp": 1742544648.368482}}}
